webpackJsonp([35],{"+2a9":function(e,t,a){var r=a("T2Dq");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("bcd736ca",r,!0,{})},"22SD":function(e,t,a){var r=a("fcQ+");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("7f697968",r,!0,{})},"5Ek4":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),n=function(e){return e&&e.__esModule?e:{default:e}}(r),i=a("LJtj"),o=a("T452"),l=a("zL8q");t.default={props:{obj:{type:Object,default:function(){return{}}},isRevenue:{type:Boolean,default:!1}},data:function(){return{title:"编辑一次性项目",salaryTypeVisible:!0,newSalaryTypeObj:{Id:"",SchemeCode:"",TermCode:"",DefaultSettingId:"",TermValue:0,Currency:"",EmpIds:"",BeginDate:null,EndDate:null,Remark:"",TermName:""},TermCode:[],DefaultSettingId:[],isHasDefaultSetting:!0,Currency:[],EmpIds:[],newSalaryTypeObjRules:{BeginDate:[{type:"date",required:!0,message:"请选择生效日期",trigger:"change"}],ProjectCode:[{type:"string",required:!0,message:"请选择所属项目",trigger:"change"}],TermCode:[{type:"string",required:!0,message:"请选择项目名称",trigger:"change"}],DefaultSettingId:[{type:"number",required:!0,message:"请选择预设标准",trigger:"change"}],TermValue:[{type:"number",required:!0,message:"请输入金额",trigger:"blur"}],Currency:[{type:"number",required:!0,message:"请选择币种",trigger:"change"}]}}},created:function(){this._getTermList(),this._getCurrency()},computed:{},methods:{_getTermList:function(){var e=this;(0,i.getOnceTermList)(this.$route.query.salaryArchive).then(function(t){if(t.data.State===o.REQ_OK){var a=t.data.Data;e.isRevenue?e.TermCode=a.G:e.TermCode=a.D,e.changeObj()}else l.Message.error("项目名称列表加载失败，请重试！")})},_getCurrency:function(){var e=this;(0,i.getCurrency)().then(function(t){t.data.State===o.REQ_OK?e.Currency=t.data.Data:l.Message.error("币种列表加载失败，请重试！")})},handleTermChange:function(){var e=this;this.TermCode.forEach(function(t){t.Code===e.newSalaryTypeObj.TermCode&&t.DefaultSetting.length>0?(e.DefaultSettingId=t.DefaultSetting,e.isHasDefaultSetting=!0):t.Code===e.newSalaryTypeObj.TermCode&&0===t.DefaultSetting.length&&(e.DefaultSettingId=[],e.isHasDefaultSetting=!1)})},changeObj:function(){var e=this;this.obj.TermCode?(this.newSalaryTypeObj=(0,n.default)({},this.obj),this.newSalaryTypeObj.BeginDate=this.replaceTime(this.newSalaryTypeObj.BeginDate),this.newSalaryTypeObj.EndDate=this.replaceTime(this.newSalaryTypeObj.EndDate),this.$nextTick(function(){e.handleTermChange()})):this.title="新增一次性项目"},cancel:function(){this.$emit("cancel")},saveSalaryType:function(){var e=this,t={Id:this.newSalaryTypeObj.Id,SchemeCode:this.$route.query.salaryArchive,TermCode:this.newSalaryTypeObj.TermCode,DefaultSettingId:this.newSalaryTypeObj.DefaultSettingId,TermValue:this.newSalaryTypeObj.TermValue,Currency:this.newSalaryTypeObj.Currency,EmpIds:this.$route.query.empId,BeginDate:this.newSalaryTypeObj.BeginDate,EndDate:this.newSalaryTypeObj.EndDate,Remark:this.newSalaryTypeObj.Remark};"number"==typeof t.BeginDate&&(t.BeginDate=new Date(t.BeginDate)),"number"==typeof t.EndDate&&(t.EndDate=new Date(t.EndDate)),(0,i.addOneEmpTerm)(t).then(function(t){t.data.State===o.REQ_OK?(l.Message.success("保存成功！"),e.$emit("modifySuccess")):l.Message.error("保存失败，请重试！")}).catch(function(){l.Message.error("保存失败，请重试！")}),this.$emit("saveSalaryType")},replaceTime:function(e){if(e){var t=e.replace("/Date(","");return t=t.replace(")/",""),parseInt(t)}}}}},"64vM":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"max-dialog-item",attrs:{title:e.title,visible:e.salaryTypeVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"custom-class":"modifyProject"},on:{"update:visible":function(t){e.salaryTypeVisible=t}}},[a("div",{staticStyle:{"font-size":"16px","margin-bottom":"20px","padding-left":"17px"}},[a("span",{staticStyle:{"margin-right":"20px","font-weight":"bold"}},[e._v("员工号："+e._s(this.$route.query.empNum))]),e._v(" "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v("姓名："+e._s(this.$route.query.name))])]),e._v(" "),a("el-form",{ref:"newSalaryTypeform",staticClass:"small-space",staticStyle:{width:"700px",display:"inline-block"},attrs:{model:e.newSalaryTypeObj,"label-width":"85px",rules:e.newSalaryTypeObjRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"生效日期",prop:"BeginDate"}},[a("el-date-picker",{staticStyle:{width:"217px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期时间"},model:{value:e.newSalaryTypeObj.BeginDate,callback:function(t){e.$set(e.newSalaryTypeObj,"BeginDate",t)},expression:"newSalaryTypeObj.BeginDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"失效日期",prop:"EndDate"}},[a("el-date-picker",{staticStyle:{width:"217px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期时间"},model:{value:e.newSalaryTypeObj.EndDate,callback:function(t){e.$set(e.newSalaryTypeObj,"EndDate",t)},expression:"newSalaryTypeObj.EndDate"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"TermCode"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},on:{change:e.handleTermChange},model:{value:e.newSalaryTypeObj.TermCode,callback:function(t){e.$set(e.newSalaryTypeObj,"TermCode",t)},expression:"newSalaryTypeObj.TermCode"}},e._l(e.TermCode,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1)],1)],1),e._v(" "),e.isHasDefaultSetting?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"标准预设",prop:"DefaultSettingId"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.newSalaryTypeObj.DefaultSettingId,callback:function(t){e.$set(e.newSalaryTypeObj,"DefaultSettingId",t)},expression:"newSalaryTypeObj.DefaultSettingId"}},e._l(e.DefaultSettingId,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Label,value:e.Id}})}),1)],1)],1):e._e()],1),e._v(" "),a("el-row",[e.isHasDefaultSetting?e._e():a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"金额",prop:"TermValue"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{type:"number"},model:{value:e.newSalaryTypeObj.TermValue,callback:function(t){e.$set(e.newSalaryTypeObj,"TermValue",e._n(t))},expression:"newSalaryTypeObj.TermValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"币种",prop:"Currency"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.newSalaryTypeObj.Currency,callback:function(t){e.$set(e.newSalaryTypeObj,"Currency",t)},expression:"newSalaryTypeObj.Currency"}},e._l(e.Currency,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4},placeholder:"请输入备注"},model:{value:e.newSalaryTypeObj.Remark,callback:function(t){e.$set(e.newSalaryTypeObj,"Remark",t)},expression:"newSalaryTypeObj.Remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveSalaryType()}}},[e._v("保存")])],1)],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},"6CRG":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".max-dialog-item .el-dialog{width:900px}.max-dialog-item .change-person .el-tree-node__children{max-height:300px;overflow-y:scroll}.noEmpIds .el-dialog{width:680px}",""])},"7D0U":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"salaryCMPInfo"},[a("el-dialog",{staticStyle:{"min-width":"1000px"},attrs:{"custom-class":"salaryCMPInfo-dialog",title:e.titleText,visible:e.isDialogNotice,center:"",fullscreen:"",showClose:!1},on:{"update:visible":function(t){e.isDialogNotice=t}}},[a("div",{staticStyle:{"font-size":"16px","margin-bottom":"20px"}},[a("span",{staticStyle:{"margin-right":"20px","font-weight":"bold"}},[e._v("员工号："+e._s(this.$route.query.empNum))]),e._v(" "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v("姓名："+e._s(this.$route.query.name))])]),e._v(" "),a("el-radio-group",{staticStyle:{"margin-bottom":"10px"},on:{change:e.handleChangeRule},model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},e._l(e.EmpSchemeList,function(t){return a("el-radio-button",{key:t.SchemeCode,attrs:{label:t.SchemeCode}},[e._v(e._s(t.SchemeName))])}),1),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"常规项目",name:"common"}},[a("el-button",{staticClass:"right-btn",staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addRevenueProject(t)}}},[e._v("\n          新增收入项\n        ")]),e._v(" "),a("tableSalaryProject",{attrs:{activeNames:e.activeNames,TermList:e.revenueTermList,revenueOrDeduction:!0},on:{modify:e.modify}}),e._v(" "),a("el-button",{staticClass:"right-btn",staticStyle:{float:"right",margin:"10px 0"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addDeductionProject(t)}}},[e._v("\n          新增扣减项\n        ")]),e._v(" "),a("tableSalaryProject",{attrs:{activeNames:e.activeNames,TermList:e.deductionTermList,revenueOrDeduction:!1},on:{modify:e.modify}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"一次性项目",name:"once"}},[a("el-button",{staticClass:"right-btn",staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addOnceRevenueProject(t)}}},[e._v("\n          新增收入项\n        ")]),e._v(" "),a("tableOnceSalaryProject",{attrs:{activeNames:e.activeNames,TermList:e.revenueTermList,revenueOrDeduction:!0},on:{modify:e.modifyOnce}}),e._v(" "),a("el-button",{staticClass:"right-btn",staticStyle:{float:"right",margin:"10px 0"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addOnceDeductionProject(t)}}},[e._v("\n          新增扣减项\n        ")]),e._v(" "),a("tableOnceSalaryProject",{attrs:{activeNames:e.activeNames,TermList:e.deductionTermList,revenueOrDeduction:!1},on:{modify:e.modifyOnce}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"个税资料",name:"second"}},[a("el-button",{staticClass:"right-btn",staticStyle:{float:"right","margin-bottom":"10px"},attrs:{type:"primary"},nativeOn:{click:function(t){return e.addTaxCity(t)}}},[e._v("\n          新增个税城市\n        ")]),e._v(" "),a("personTax",{attrs:{taxList:e.taxList},on:{deleteCity:e.deleteCity,modifyTaxCity:e.modifyTaxCity}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"发薪查询",name:"third"}},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"选择年份"},on:{change:e.handleFilter},model:{value:e.selectYear,callback:function(t){e.selectYear=t},expression:"selectYear"}},e._l(e.years,function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})}),1),e._v(" "),a("el-button",{staticClass:"right-btn",staticStyle:{float:"right"},attrs:{type:"primary"}},[e._v("\n          导出\n        ")]),e._v(" "),a("tableSalaryQuery",{attrs:{list:e.queryList}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("关 闭")])],1)],1),e._v(" "),e.modifyVisi?a("modifyProject",{ref:"modifyProject",attrs:{obj:e.item,isRevenue:e.isRevenue},on:{cancel:function(t){e.modifyVisi=!1},modifySuccess:e.modifySuccess}}):e._e(),e._v(" "),e.modifyOnceVisi?a("modifyOnceProject",{ref:"modifyProject",attrs:{obj:e.item,isRevenue:e.isRevenue},on:{cancel:function(t){e.modifyOnceVisi=!1},modifySuccess:e.modifySuccess}}):e._e(),e._v(" "),e.taxCityVisible?a("addTaxCity",{attrs:{citys:e.citys,empId:e.empId,modifyTaxCityObj:e.modifyTaxCityObj},on:{saveTaxCity:e.saveTaxCity,cancelTaxCity:e.cancelTaxCity}}):e._e()],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},"8fnn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{list:{type:Array,default:[]}}}},D0vp:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"",""])},G8Hb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{taxList:{type:Array,default:[]}},data:function(){return{}},created:function(){},methods:{modifyTaxCity:function(e){this.$emit("modifyTaxCity",e)},deleteCity:function(e){this.$emit("deleteCity",e)}}}},Gu0a:function(e,t,a){var r=a("yS+1");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("ca7d3f7e",r,!0,{})},GzIW:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.list,border:""}},[a("el-table-column",{attrs:{align:"center",fixed:"",prop:"ReportName",label:"月报名称"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"OnMonth",label:"所属月份"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"GBT",label:"税前收入"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"GAT",label:"税后收入"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"GNT",label:"免税收入"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PBT",label:"税前扣减"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PAT",label:"税后扣减"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"GT",label:"收入合计"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PT",label:"扣减合计"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"GTT",label:"应纳税收入总额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"TAX",label:"应纳税"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"AT",label:"境外已纳税"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",fixed:"right",prop:"RT",label:"实发合计"}})],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},HCSw:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".salaryCMPInfo .salaryCMPInfo-dialog .el-dialog__header{width:960px;margin:0 auto}.salaryCMPInfo .salaryCMPInfo-dialog .el-dialog__body{width:960px;margin:0 auto;-webkit-box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04);margin-bottom:50px}",""])},"L/Ms":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{activeNames:{type:Array,default:[]},TermList:{type:Array,default:[]},revenueOrDeduction:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},methods:{modify:function(e){e.revenueOrDeduction=this.revenueOrDeduction,this.$emit("modify",e)}}}},LJtj:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRecyle"}})}function i(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermProject"}})}function o(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermAttribute"}})}function l(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermType"}})}function s(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRule"}})}function u(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayFrequency"}})}function c(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayMethod"}})}function d(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayLogic"}})}function m(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetJobLevel"}})}function p(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetOffWorkType"}})}function f(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpType"}})}function y(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpStatus"}})}function h(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCurrency"}})}function g(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTaxType"}})}function b(){return(0,Se.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCityList"}})}function T(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetList",PageSize:e,PageIndex:t}})}function v(e,t,a){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddOne",strJson1:e,strJson2:t,strJson3:a}})}function S(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CopyOne",SchemeCode:e,SchemeName:t}})}function C(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeSchemeStatus",Code:e,Status:t}})}function _(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeDetail",SchemeCode:e}})}function x(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueName",Name:e,Code:t}})}function O(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeOrgList",SchemeCode:e}})}function w(e,t){return(0,Se.default)({url:"/Wage/Scheme ",method:"post",data:{Method:"GetTermList",SchemeCode:e,TaxType:t}})}function j(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeTermStatus",Code:e,Status:t}})}function D(e,t,a){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueTermName",Code:a,Name:e,SchemeCode:t}})}function E(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetRelStructList",SchemeCode:e}})}function M(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddTerm",strJson:e}})}function I(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetTerm",Code:e}})}function R(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateCheckPosition",SchemeCode:e,PositionCode:t}})}function L(e){return(0,Se.default)({url:"/Wage/WageReport",method:"post",data:(0,Te.default)({Method:"GetEmpTermList"},e)})}function k(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeEmpList",SchemeCode:e,PageIndex:1,PageSize:9999}})}function W(e){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Te.default)({Method:"AddOne"},e)})}function P(e){return(0,Se.default)({url:"/Wage/IO",method:"post",data:{Method:"BuildEmpTermTemplate",SchemeCode:e}})}function N(e,t){var a=new FormData;console.log(e);for(var r=0;r<e.length;r++)a.append(e[r].name,e[r]);return a.append("Method","UploadEmpTerm"),a.append("companyCode",_e.default.getters.companyCode),a.append("TokenId",(0,xe.getToken)()),a.append("SchemeCode",t.SchemeCode),console.log(Date.parse(t.OnDate)),a.append("OnDate",t.OnDate.toISOString()),(0,Se.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:a})}function $(e){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Te.default)({Method:"GetEmpTermChangeLogList"},e)})}function B(e){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:(0,Te.default)({Method:"GetWageReportList"},e)})}function V(e){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:(0,Te.default)({Method:"AddOne"},e)})}function q(e,t,a){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"Process",Code:e,OP:t,Remark:a}})}function G(e){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:(0,Te.default)({Method:"GetEmpWageReportList"},e)})}function A(e,t,a){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetFlowIdList",SchemeCode:e,OnYear:t,OnMonth:a}})}function F(e,t){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"RunEmpReport",ReportCode:e,EmpIds:t}})}function U(e,t,a){return(0,Se.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetSingleEmpReport",EmpId:e,OnYear:t,SchemeCode:a}})}function Q(e,t,a){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTermListByEmpId",EmpId:e,SchemeCode:t,type:a}})}function K(e){return(0,Se.default)({url:"/Wage/WageReport",method:"post",data:(0,Te.default)({Method:"GetCommitWageReportList"},e)})}function J(e){return(0,Se.default)({url:"/Wage/WageReport",method:"post",data:(0,Te.default)({Method:"ApprovalReport"},e)})}function H(e){return(0,Se.default)({url:"/Wage/WageReport",method:"post",data:{Method:"GetRemarkList",ReportCode:e}})}function z(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetPayRollList",SchemeCode:e}})}function Y(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdatePayRollSort",SchemeCode:e,strJson:t}})}function Z(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetNormalTermList",SchemeCode:e}})}function X(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOnceTermList",SchemeCode:e}})}function ee(e){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Te.default)({Method:"AddTaxCity"},e)})}function te(e){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Te.default)({Method:"UpdateTaxCity"},e)})}function ae(e){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTaxCityList",EmpId:e}})}function re(e,t){return(0,Se.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"DeleteEmpTaxCity",CityId:e,EmpId:t}})}function ne(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:(0,Te.default)({Method:"GetEmpSchemeList"},e)})}function ie(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"EditEmpScheme",EmpId:e,SchemeCode:t}})}function oe(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddEmpScheme",EmpId:e,SchemeCode:t}})}function le(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"DeleteEmpScheme",Id:e}})}function se(e){console.log(e);for(var t=new FormData,a=0;a<e.length;a++)t.append(e[a].name,e[a]);return t.append("Method","UploadEmpScheme"),t.append("companyCode",_e.default.getters.companyCode),t.append("TokenId",(0,xe.getToken)()),(0,Se.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:t})}function ue(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeEmpSchemeStatus",Id:e,State:t}})}function ce(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetAmerce",SchemeCode:e,A_Type:t}})}function de(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveAmerce",SchemeCode:e,strJson:t}})}function me(e,t,a){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateAmerceStatus",SchemeCode:e,A_Type:t,Status:a}})}function pe(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetWithdrawingForLeave",SchemeCode:e,A_Type:t}})}function fe(e,t,a){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateWithdrawingForLeaveStatus",SchemeCode:e,A_Type:t,Status:a}})}function ye(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveWithdrawingForLeave",SchemeCode:e,strJson:t}})}function he(e){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOverTime",SchemeCode:e}})}function ge(e,t){return(0,Se.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveOverTime",SchemeCode:e,strJson:t}})}Object.defineProperty(t,"__esModule",{value:!0});var be=a("Dd8w"),Te=r(be);t.getPayRecyle=n,t.getTermProject=i,t.getTermAttribute=o,t.getTermType=l,t.getPayRule=s,t.getPayFrequency=u,t.getPayMethod=c,t.getPayLogic=d,t.getJobLevel=m,t.getOffWorkType=p,t.getEmpType=f,t.getEmpStatus=y,t.getCurrency=h,t.getTaxType=g,t.getCityList=b,t.getSalaryList=T,t.addProject=v,t.copyOne=S,t.changeSchemeStatus=C,t.getSchemeDetail=_,t.checkUniqueName=x,t.getSchemeOrgList=O,t.getTermList=w,t.changeTermStatus=j,t.checkUniqueTermName=D,t.getRelStructList=E,t.addTerm=M,t.getTerm=I,t.updateCheckPosition=R,t.getEmpTermList=L,t.getSchemeEmpList=k,t.addOneEmpTerm=W,t.buildEmpTermTemplate=P,t.uploadEmpTerm=N,t.getEmpTermChangeLogList=$,t.getWageReportList=B,t.addOneReport=V,t.process=q,t.getEmpWageReportList=G,t.getFlowIdList=A,t.runEmpReport=F,t.getSingleEmpReport=U,t.getEmpTermListByEmpId=Q,t.getCommitWageReportList=K,t.approvalReport=J,t.getRemarkList=H,t.getPayRollList=z,t.updatePayRollSort=Y,t.getNormalTermList=Z,t.getOnceTermList=X,t.addTaxCity=ee,t.UpdateTaxCity=te,t.getEmpTaxCityList=ae,t.deleteEmpTaxCity=re,t.getEmpSchemeList=ne,t.editEmpScheme=ie,t.addEmpScheme=oe,t.deleteEmpScheme=le,t.uploadEmpScheme=se,t.changeEmpSchemeStatus=ue,t.getAmerce=ce,t.saveAmerce=de,t.updateAmerceStatus=me,t.getWithdrawingForLeave=pe,t.updateWithdrawingForLeaveStatus=fe,t.saveWithdrawingForLeave=ye,t.getOverTime=he,t.saveOverTime=ge;var ve=a("Vo7i"),Se=r(ve),Ce=a("IcnI"),_e=r(Ce),xe=a("TIfe")},N9tl:function(e,t,a){var r=a("eRA1");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("786c25b8",r,!0,{})},T2Dq:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"",""])},ThOD:function(e,t,a){"use strict";function r(e){a("m298")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("xvQq"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("kVWX"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},VYXU:function(e,t,a){var r=a("uH1y");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("1544c336",r,!0,{})},Va14:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{activeNames:{type:Array,default:[]},TermList:{type:Array,default:[]},revenueOrDeduction:{type:Boolean,default:!0}},data:function(){return{}},created:function(){},methods:{modify:function(e){e.revenueOrDeduction=this.revenueOrDeduction,this.$emit("modify",e)}}}},XDoT:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.TermList,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"生效日",align:"center",prop:"BeginDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("replaceTimeNoH")(t.row.BeginDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"TermName"}}),e._v(" "),a("el-table-column",{attrs:{label:"金额或%",align:"center",prop:"TermValue",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"币种",align:"center",prop:"CurrencyName",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.modify(t.row)}}},[e._v("\n        编辑\n      ")])]}}])})],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},d3B6:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("LJtj"),i=a("T452"),o=a("wxuG"),l=r(o),s=a("jeB6"),u=r(s),c=a("j9KR"),d=r(c),m=a("d5Tl"),p=r(m),f=a("lG5z"),y=r(f),h=a("lKRg"),g=r(h),b=a("ThOD"),T=r(b),v=a("zL8q");t.default={props:{},data:function(){return{ruleForm:{},titleText:"个人信息",typeNameList:[],isDialogNotice:!0,activeName:"common",queryList:[],selectYear:parseInt((new Date).getFullYear()),modifyVisi:!1,modifyOnceVisi:!1,item:{},type:1,activeNames:[],TermList:[],revenueTermList:[],deductionTermList:[],taxList:[],taxCityVisible:!1,citys:[],EmpIds:[],empId:"",modifyTaxCityObj:{},EmpSchemeList:[],tabPosition:"",currentSchemeCode:"",isRevenue:!1,revenueOrDeduction:!1}},created:function(){this._getEmpSchemeList()},computed:{years:function(){var e=[],t=new Date,a=parseInt(t.getFullYear());e.push(a);for(var r=0;r<4;r++)a--,e.push(a);return e}},methods:{_getEmpTermListByEmpId:function(e,t,a){var r=this;(0,n.getEmpTermListByEmpId)(e,t,a).then(function(e){if(e.data.State===i.REQ_OK){var t=e.data.Data;r.revenueTermList=t.G,r.deductionTermList=t.D}else v.Message.error("薪资项目列表获取失败，请重试！")}).catch(function(){v.Message.error("薪资项目列表获取失败，请重试！")})},_getSingleEmpReport:function(){var e=this;(0,n.getSingleEmpReport)(this.$route.query.empId,this.selectYear,this.tabPosition).then(function(t){t.data.State===i.REQ_OK?e.queryList=t.data.Data:v.Message.error("发薪查询列表获取失败，请重试！")}).catch(function(){v.Message.error("发薪查询列表获取失败，请重试！")})},_getEmpTaxCityList:function(){var e=this;(0,n.getEmpTaxCityList)(this.$route.query.empId).then(function(t){t.data.State===i.REQ_OK?e.taxList=t.data.Data:v.Message.error("个税资料列表获取失败，请重试！")}).catch(function(){v.Message.error("个税资料列表获取失败，请重试！")})},_getEmpSchemeList:function(){var e=this;(0,n.getEmpSchemeList)({EmpId:this.$route.query.empId}).then(function(t){t.data.State===i.REQ_OK?(e.EmpSchemeList=t.data.Data,e.tabPosition=e.$route.query.salaryArchive,e._getEmpTermListByEmpId(e.$route.query.empId,e.tabPosition,e.type)):v.Message.error("薪资规则列表获取失败，请重试！")}).catch(function(){v.Message.error("薪资规则列表获取失败，请重试！")})},handleChangeRule:function(){this.activeName="common",this._getEmpTermListByEmpId(this.$route.query.empId,this.tabPosition,1)},handleClick:function(e,t){switch(this.activeNames=[],this.TermList=[],e.name){case"common":this.type=1,this._getEmpTermListByEmpId(this.$route.query.empId,this.tabPosition,this.type);break;case"once":this.type=0,this._getEmpTermListByEmpId(this.$route.query.empId,this.tabPosition,this.type);break;case"second":this._getEmpTaxCityList();break;case"third":this._getSingleEmpReport()}},handleFilter:function(){this._getSingleEmpReport()},addRevenueProject:function(){this.item={},this.isRevenue=!0,this.modifyVisi=!0},addDeductionProject:function(){this.item={},this.isRevenue=!1,this.modifyVisi=!0},addOnceRevenueProject:function(){this.item={},this.isRevenue=!0,this.modifyOnceVisi=!0},addOnceDeductionProject:function(){this.item={},this.isRevenue=!1,this.modifyOnceVisi=!0},modify:function(e){e.revenueOrDeduction?this.isRevenue=!0:this.isRevenue=!1,this.modifyVisi=!0,this.item=e},modifyOnce:function(e){e.revenueOrDeduction?this.isRevenue=!0:this.isRevenue=!1,this.modifyOnceVisi=!0,this.item=e},modifySuccess:function(){this.modifyVisi=!1,this.modifyOnceVisi=!1,this._getEmpTermListByEmpId(this.$route.query.empId,this.tabPosition,this.type)},addTaxCity:function(){var e=this;(0,n.getCityList)().then(function(t){t.data.State===i.REQ_OK?(e.citys=e.filterCitys(t.data.Data),e.empId=e.$route.query.empId,e.taxCityVisible=!0):v.Message.error("城市列表获取失败，请重试！")}).catch(function(){v.Message.error("城市列表获取失败，请重试！")})},saveTaxCity:function(e){var t=this;e.Id?(0,n.UpdateTaxCity)(e).then(function(e){e.data.State===i.REQ_OK?(v.Message.success("更新成功！"),t._getEmpTaxCityList(),t.taxCityVisible=!1):v.Message.error("更新失败，请重试！")}).catch(function(){v.Message.error("更新失败，请重试！")}):(0,n.addTaxCity)(e).then(function(e){e.data.State===i.REQ_OK?(v.Message.success("保存成功！"),t._getEmpTaxCityList(),t.taxCityVisible=!1):v.Message.error("保存失败，请重试！")}).catch(function(){v.Message.error("保存失败，请重试！")})},cancelTaxCity:function(){this.taxCityVisible=!1},modifyTaxCity:function(e){var t=this;(0,n.getCityList)().then(function(a){a.data.State===i.REQ_OK?(t.citys=t.filterCitys(a.data.Data),t.empId=parseInt(t.$route.query.empId),t.modifyTaxCityObj=e,t.taxCityVisible=!0):v.Message.error("城市列表获取失败，请重试！")}).catch(function(){v.Message.error("城市列表获取失败，请重试！")})},deleteCity:function(e){var t=this;this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){(0,n.deleteEmpTaxCity)(e.CityId,t.$route.query.empId).then(function(e){e.data.State===i.REQ_OK?(t._getEmpTaxCityList(),v.Message.success("删除成功！")):v.Message.error("删除失败，请重试！")}).catch(function(){v.Message.error("删除失败，请重试！")})})},filterCitys:function(e){var t=this;return e.map(function(e){return e.Child.length>0?{Id:e.Id,Name:e.Name,Child:t.filterCitys(e.Child)}:{Id:e.Id,Name:e.Name}})},foreachFn:function(e,t){var a=this,r=[];return e.forEach(function(e){var n={Name:e.Name,UniCode:e.UniCode,children:a.foreachChildFn(e.UniCode,t)};r.push(n)}),r},foreachChildFn:function(e,t){return t.filter(function(t){return e===t.ProjectCode})},cancel:function(){this.$router.back()},_recursionFn:function(e){var t=[];return e.forEach(function(e){var a={value:e.EmployeeId,label:e.EmployeeName};t.push(a)}),t}},components:{TableSalaryQuery:y.default,TableSalaryProject:l.default,TableOnceSalaryProject:u.default,ModifyProject:d.default,ModifyOnceProject:p.default,PersonTax:g.default,AddTaxCity:T.default}}},d5Tl:function(e,t,a){"use strict";function r(e){a("VYXU")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("5Ek4"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("xSg9"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},dSIK:function(e,t,a){var r=a("D0vp");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("27c5c854",r,!0,{})},eRA1:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"",""])},"fcQ+":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".modifyProject{width:800px}",""])},hJqf:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.taxList,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"生效日",align:"center",prop:"BeginDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("replaceTimeNoH")(t.row.BeginDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"个税城市",align:"center",prop:"CityName"}}),e._v(" "),a("el-table-column",{attrs:{label:"免税额（/ 元）",align:"center",prop:"Amount"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.modifyTaxCity(t.row)}}},[e._v("\n        编辑\n      ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.deleteCity(t.row)}}},[e._v("\n        删除\n      ")])]}}])})],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},j9KR:function(e,t,a){"use strict";function r(e){a("22SD")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("xlMT"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("64vM"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},jeB6:function(e,t,a){"use strict";function r(e){a("N9tl")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("L/Ms"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("XDoT"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},kVWX:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"max-dialog-item",class:e.EmpIds.length>0?"":"noEmpIds",attrs:{title:"新增个税城市",visible:e.taxCityVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1},on:{"update:visible":function(t){e.taxCityVisible=t}}},[e.EmpIds.length>0?a("el-tree",{ref:"taxCityTree",staticClass:"change-person",staticStyle:{width:"220px",display:"inline-block","vertical-align":"top"},attrs:{data:e.EmpIds,"show-checkbox":"","node-key":"id","expand-on-click-node":"","highlight-current":""}}):e._e(),e._v(" "),a("el-form",{ref:"newTaxCityform",staticClass:"small-space",staticStyle:{width:"630px",display:"inline-block"},attrs:{model:e.newTaxCityObj,"label-width":"85px",rules:e.newTaxCityObjRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"生效日期",prop:"BeginDate"}},[a("el-date-picker",{staticStyle:{width:"217px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期时间"},model:{value:e.newTaxCityObj.BeginDate,callback:function(t){e.$set(e.newTaxCityObj,"BeginDate",t)},expression:"newTaxCityObj.BeginDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"城市",prop:"CityId"}},[a("el-cascader",{attrs:{options:e.citys,props:e.props},model:{value:e.newTaxCityObj.CityId,callback:function(t){e.$set(e.newTaxCityObj,"CityId",t)},expression:"newTaxCityObj.CityId"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"免税额",prop:"CityId"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4},placeholder:"请输入免税额"},model:{value:e.newTaxCityObj.Amount,callback:function(t){e.$set(e.newTaxCityObj,"Amount",t)},expression:"newTaxCityObj.Amount"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelTaxCity}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveTaxCity()}}},[e._v("保存")])],1)],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},lG5z:function(e,t,a){"use strict";function r(e){a("+2a9")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("8fnn"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("GzIW"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},lKRg:function(e,t,a){"use strict";function r(e){a("Gu0a")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("G8Hb"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("hJqf"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},m298:function(e,t,a){var r=a("6CRG");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("25f9aacb",r,!0,{})},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var r=a("FeBl"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},rCJJ:function(e,t,a){"use strict";function r(e){a("tY6v")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("d3B6"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("7D0U"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},tY6v:function(e,t,a){var r=a("HCSw");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("002da53c",r,!0,{})},uH1y:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".modifyProject{width:800px}",""])},uyxR:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{attrs:{data:e.TermList,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"生效日",align:"center",prop:"BeginDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("replaceTimeNoH")(t.row.BeginDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"失效日",align:"center",prop:"EndDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("replaceTimeNoH")(t.row.EndDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"TermName"}}),e._v(" "),a("el-table-column",{attrs:{label:"预设值",align:"center",prop:"DefaultSettingLabel",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"金额或%",align:"center",prop:"TermValue",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"币种",align:"center",prop:"CurrencyName",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.modify(t.row)}}},[e._v("\n        编辑\n      ")])]}}])})],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},wxuG:function(e,t,a){"use strict";function r(e){a("dSIK")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Va14"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,function(){return n[e]})}(o);var l=a("uyxR"),s=a("VU/8"),u=r,c=s(i.a,l.a,!1,u,null,null);t.default=c.exports},xSg9:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"max-dialog-item",attrs:{title:e.title,visible:e.salaryTypeVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"custom-class":"modifyProject"},on:{"update:visible":function(t){e.salaryTypeVisible=t}}},[a("div",{staticStyle:{"font-size":"16px","margin-bottom":"20px","padding-left":"17px"}},[a("span",{staticStyle:{"margin-right":"20px","font-weight":"bold"}},[e._v("员工号："+e._s(this.$route.query.empNum))]),e._v(" "),a("span",{staticStyle:{"font-weight":"bold"}},[e._v("姓名："+e._s(this.$route.query.name))])]),e._v(" "),a("el-form",{ref:"newSalaryTypeform",staticClass:"small-space",staticStyle:{width:"700px",display:"inline-block"},attrs:{model:e.newSalaryTypeObj,"label-width":"85px",rules:e.newSalaryTypeObjRules}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{label:"生效日期",prop:"BeginDate"}},[a("el-date-picker",{staticStyle:{width:"217px"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期时间"},model:{value:e.newSalaryTypeObj.BeginDate,callback:function(t){e.$set(e.newSalaryTypeObj,"BeginDate",t)},expression:"newSalaryTypeObj.BeginDate"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"项目名称",prop:"TermCode"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},on:{change:e.handleTermChange},model:{value:e.newSalaryTypeObj.TermCode,callback:function(t){e.$set(e.newSalaryTypeObj,"TermCode",t)},expression:"newSalaryTypeObj.TermCode"}},e._l(e.TermCode,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1)],1)],1)],1),e._v(" "),a("el-row",[e.isHasDefaultSetting?e._e():a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"金额",prop:"TermValue"}},[a("el-input",{staticStyle:{width:"217px"},attrs:{type:"number"},model:{value:e.newSalaryTypeObj.TermValue,callback:function(t){e.$set(e.newSalaryTypeObj,"TermValue",e._n(t))},expression:"newSalaryTypeObj.TermValue"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"币种",prop:"Currency"}},[a("el-select",{staticClass:"filter-item",attrs:{placeholder:"请选择"},model:{value:e.newSalaryTypeObj.Currency,callback:function(t){e.$set(e.newSalaryTypeObj,"Currency",t)},expression:"newSalaryTypeObj.Currency"}},e._l(e.Currency,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}),1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:1,maxRows:4},placeholder:"请输入备注"},model:{value:e.newSalaryTypeObj.Remark,callback:function(t){e.$set(e.newSalaryTypeObj,"Remark",t)},expression:"newSalaryTypeObj.Remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancel}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.saveSalaryType()}}},[e._v("保存")])],1)],1)},n=[],i={render:r,staticRenderFns:n};t.a=i},xlMT:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),n=function(e){return e&&e.__esModule?e:{default:e}}(r),i=a("LJtj"),o=a("T452"),l=a("zL8q");t.default={props:{obj:{type:Object,default:function(){return{}}},isRevenue:{type:Boolean,default:!1}},data:function(){return{title:"编辑常规项目",salaryTypeVisible:!0,newSalaryTypeObj:{Id:"",SchemeCode:"",TermCode:"",DefaultSettingId:"",TermValue:0,Currency:"",EmpIds:"",BeginDate:null,EndDate:null,Remark:"",TermName:""},TermCode:[],DefaultSettingId:[],isHasDefaultSetting:!0,Currency:[],EmpIds:[],newSalaryTypeObjRules:{BeginDate:[{type:"date",required:!0,message:"请选择生效日期",trigger:"change"}],EndDate:[{type:"date",required:!0,message:"请选择失效日期",trigger:"change"}],ProjectCode:[{type:"string",required:!0,message:"请选择所属项目",trigger:"change"}],TermCode:[{type:"string",required:!0,message:"请选择项目名称",trigger:"change"}],DefaultSettingId:[{type:"number",required:!0,message:"请选择预设标准",trigger:"change"}],TermValue:[{type:"number",required:!0,message:"请输入金额",trigger:"blur"}],Currency:[{type:"number",required:!0,message:"请选择币种",trigger:"change"}]}}},created:function(){this._getTermList(),this._getCurrency()},computed:{},methods:{_getTermList:function(){var e=this;(0,i.getNormalTermList)(this.$route.query.salaryArchive).then(function(t){if(t.data.State===o.REQ_OK){var a=t.data.Data;console.log(e.isRevenue),e.isRevenue?e.TermCode=a.G:e.TermCode=a.D,console.log(e.TermCode),e.changeObj()}else l.Message.error("项目名称列表加载失败，请重试！")})},_getCurrency:function(){var e=this;(0,i.getCurrency)().then(function(t){t.data.State===o.REQ_OK?e.Currency=t.data.Data:l.Message.error("币种列表加载失败，请重试！")})},handleTermChange:function(){var e=this;this.TermCode.forEach(function(t){t.Code===e.newSalaryTypeObj.TermCode&&t.DefaultSetting.length>0?(e.DefaultSettingId=t.DefaultSetting,e.isHasDefaultSetting=!0):t.Code===e.newSalaryTypeObj.TermCode&&0===t.DefaultSetting.length&&(e.DefaultSettingId=[],e.isHasDefaultSetting=!1)})},changeObj:function(){var e=this;this.obj.TermCode?(this.newSalaryTypeObj=(0,n.default)({},this.obj),this.newSalaryTypeObj.BeginDate=this.replaceTime(this.newSalaryTypeObj.BeginDate),this.newSalaryTypeObj.EndDate=this.replaceTime(this.newSalaryTypeObj.EndDate),this.$nextTick(function(){e.handleTermChange()})):this.title="新增常规项目"},cancel:function(){this.$emit("cancel")},saveSalaryType:function(){var e=this,t={Id:this.newSalaryTypeObj.Id,SchemeCode:this.$route.query.salaryArchive,TermCode:this.newSalaryTypeObj.TermCode,DefaultSettingId:this.newSalaryTypeObj.DefaultSettingId,TermValue:this.newSalaryTypeObj.TermValue,Currency:this.newSalaryTypeObj.Currency,EmpIds:this.$route.query.empId,BeginDate:this.newSalaryTypeObj.BeginDate,EndDate:this.newSalaryTypeObj.EndDate,Remark:this.newSalaryTypeObj.Remark};"number"==typeof t.BeginDate&&(t.BeginDate=new Date(t.BeginDate)),"number"==typeof t.EndDate&&(t.EndDate=new Date(t.EndDate)),(0,i.addOneEmpTerm)(t).then(function(t){t.data.State===o.REQ_OK?(l.Message.success("保存成功！"),e.$emit("modifySuccess")):l.Message.error("保存失败，请重试！")}),this.$emit("saveSalaryType")},replaceTime:function(e){if(e){var t=e.replace("/Date(","");return t=t.replace(")/",""),parseInt(t)}}}}},xvQq:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a("woOf"),i=r(n),o=a("mvHQ"),l=r(o),s=a("zL8q");t.default={props:{SchemeCode:{type:String,default:""},EmpIds:{type:Array,default:function(){return[]}},empId:{type:Number,default:null},citys:{type:Array,default:[]},modifyTaxCityObj:{type:Object,default:{}}},data:function(){return{newTaxCityObj:{CityId:[],EmpIds:"",BeginDate:null,Amount:3500},props:{value:"Id",label:"Name",children:"Child"},newTaxCityObjRules:{BeginDate:[{type:"date",required:!0,message:"请选择生效日期",trigger:"change"}],CityId:[{type:"array",required:!0,message:"请选择城市",trigger:"change"}],Amount:[{type:"number",required:!0,message:"请输入免税额",trigger:"blur"}]},taxCityVisible:!0}},mounted:function(){this.modifyTaxCityObj&&(this.newTaxCityObj.Id=this.modifyTaxCityObj.Id,this.newTaxCityObj.BeginDate=new Date(this.replaceTime(this.modifyTaxCityObj.BeginDate)),this.newTaxCityObj.Amount=this.modifyTaxCityObj.Amount,this.newTaxCityObj.CityId=[this.modifyTaxCityObj.PId,this.modifyTaxCityObj.CityId])},methods:{saveTaxCity:function(){var e=this;this.$refs.newTaxCityform.validate(function(t){if(t){var a=e.$refs.taxCityTree.getCheckedNodes();if(!a.length&&!e.empId)return s.Message.error("请选择员工");if(e.empId)e.newTaxCityObj.EmpIds=e.empId;else{var r=[];a[0].children?a[0].children.forEach(function(e){var t=e.value;r.push(t)}):a.forEach(function(e){var t=e.value;r.push(t)}),e.newTaxCityObj.EmpIds=(0,l.default)(r)}var n=(0,i.default)({},e.newTaxCityObj);n.CityId=n.CityId[1],e.$emit("saveTaxCity",n)}})},cancelTaxCity:function(){this.$emit("cancelTaxCity")},replaceTime:function(e){if(e){var t=e.replace("/Date(","");return t=t.replace(")/",""),parseInt(t)}}}}},"yS+1":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,"",""])}});