webpackJsonp([41],{"7Aca":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".tabset-component .content-container .set-container{margin-top:20px;border:1px solid #dedede;padding:20px}.tabset-component .content-container .set-container .set-ul .set-li{display:-webkit-box;display:-ms-flexbox;display:flex;padding:20px 0;border-top:1px solid #dedede}.tabset-component .content-container .set-container .set-ul .set-li .left{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:0;-ms-flex:0 0 300px;flex:0 0 300px;border-right:1px solid #dedede}.tabset-component .content-container .set-container .set-ul .set-li .left .content{display:inline-block}.tabset-component .content-container .set-container .set-ul .set-li .left .content .el-icon-circle-close-outline{margin-right:20px;cursor:pointer;color:#dedede}.tabset-component .content-container .set-container .set-ul .set-li .left .content .el-icon-circle-close-outline:hover{color:#666}.tabset-component .content-container .set-container .set-ul .set-li .right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-flex:1;-ms-flex:1;flex:1}.tabset-component .content-container .set-container .set-ul .set-li .right .times-li{margin-bottom:10px}.tabset-component .content-container .set-container .set-ul .set-li .right .el-icon-circle-close-outline{margin-left:20px;cursor:pointer;color:#dedede}.tabset-component .content-container .set-container .set-ul .set-li .right .el-icon-circle-close-outline:hover{color:#666}.tabset-component .content-container .set-container .set-ul .set-li .right .el-icon-circle-plus-outline{cursor:pointer;color:#dedede}.tabset-component .content-container .set-container .set-ul .set-li .right .el-icon-circle-plus-outline:hover{color:#666}.tabset-component .content-container .set-container .set-ul .set-li .right .times-li:last-child{margin-bottom:0}.tabset-component .content-container .set-container .set-ul .set-li:last-child{border-bottom:1px solid #dedede}",""])},E4LH:function(t,e,a){"use strict";function n(t){return/^(https?|ftp):\/\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]?)(\.(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9]?[0-9])){3}|([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(\/($|[a-zA-Z0-9.,?'\\+&%$#=~_-]+))*$/.test(t)}function o(t){return/^[a-z]+$/.test(t)}function i(t){return/^[A-Z]+$/.test(t)}function r(t){return/^[A-Za-z]+$/.test(t)}function s(t){return/^[0-9]*[1-9][0-9]*$/.test(t)}function d(t){return/^\d+(\.\d)?$/.test(t)}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return new RegExp("(^[1-9]([0-9]+)?(\\.[0-9]{1,"+e+")?$)|(^(0){1}$)|(^[0-9]\\.[0-9]([0-9])?$)","i").test(t)}function c(t){return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t)}function u(t){return/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(t)}function m(t){return/^((1)3(\d){9}$)|(^(1)4[5-9](\d){8}$)|(^(1)5[^4]{9}$)|(^(1)66(\d){8}$)|(^(1)7[0-8](\d){8}$)|(^(1)8(\d){9}$)|(^(1)9[8-9](\d){8}$)/.test(t)}function h(t){return/0\d{2,3}-\d{7,8}/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.validateURL=n,e.validateLowerCase=o,e.validateUpperCase=i,e.validatAlphabets=r,e.validatPositiveNum=s,e.validatNumDotOne=d,e.validatMoney=l,e.validatUserId=c,e.validatEmail=u,e.validatMobilePhone=m,e.validatTel=h},LJtj:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRecyle"}})}function i(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermProject"}})}function r(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermAttribute"}})}function s(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermType"}})}function d(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRule"}})}function l(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayFrequency"}})}function c(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayMethod"}})}function u(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayLogic"}})}function m(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetJobLevel"}})}function h(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetOffWorkType"}})}function p(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpType"}})}function f(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpStatus"}})}function g(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCurrency"}})}function v(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTaxType"}})}function S(){return(0,Ct.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCityList"}})}function T(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetList",PageSize:t,PageIndex:e}})}function y(t,e,a){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddOne",strJson1:t,strJson2:e,strJson3:a}})}function C(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CopyOne",SchemeCode:t,SchemeName:e}})}function x(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeSchemeStatus",Code:t,Status:e}})}function b(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeDetail",SchemeCode:t}})}function _(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueName",Name:t,Code:e}})}function L(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeOrgList",SchemeCode:t}})}function M(t,e){return(0,Ct.default)({url:"/Wage/Scheme ",method:"post",data:{Method:"GetTermList",SchemeCode:t,TaxType:e}})}function W(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeTermStatus",Code:t,Status:e}})}function R(t,e,a){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueTermName",Code:a,Name:t,SchemeCode:e}})}function E(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetRelStructList",SchemeCode:t}})}function k(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddTerm",strJson:t}})}function O(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetTerm",Code:t}})}function J(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateCheckPosition",SchemeCode:t,PositionCode:e}})}function w(t){return(0,Ct.default)({url:"/Wage/WageReport",method:"post",data:(0,Tt.default)({Method:"GetEmpTermList"},t)})}function F(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeEmpList",SchemeCode:t,PageIndex:1,PageSize:9999}})}function P(t){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Tt.default)({Method:"AddOne"},t)})}function D(t){return(0,Ct.default)({url:"/Wage/IO",method:"post",data:{Method:"BuildEmpTermTemplate",SchemeCode:t}})}function U(t,e){var a=new FormData;console.log(t);for(var n=0;n<t.length;n++)a.append(t[n].name,t[n]);return a.append("Method","UploadEmpTerm"),a.append("companyCode",bt.default.getters.companyCode),a.append("TokenId",(0,_t.getToken)()),a.append("SchemeCode",e.SchemeCode),console.log(Date.parse(e.OnDate)),a.append("OnDate",e.OnDate.toISOString()),(0,Ct.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:a})}function G(t){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Tt.default)({Method:"GetEmpTermChangeLogList"},t)})}function A(t){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:(0,Tt.default)({Method:"GetWageReportList"},t)})}function I(t){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:(0,Tt.default)({Method:"AddOne"},t)})}function N(t,e,a){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"Process",Code:t,OP:e,Remark:a}})}function $(t){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:(0,Tt.default)({Method:"GetEmpWageReportList"},t)})}function V(t,e,a){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetFlowIdList",SchemeCode:t,OnYear:e,OnMonth:a}})}function j(t,e){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"RunEmpReport",ReportCode:t,EmpIds:e}})}function z(t,e,a){return(0,Ct.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetSingleEmpReport",EmpId:t,OnYear:e,SchemeCode:a}})}function Q(t,e,a){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTermListByEmpId",EmpId:t,SchemeCode:e,type:a}})}function q(t){return(0,Ct.default)({url:"/Wage/WageReport",method:"post",data:(0,Tt.default)({Method:"GetCommitWageReportList"},t)})}function Z(t){return(0,Ct.default)({url:"/Wage/WageReport",method:"post",data:(0,Tt.default)({Method:"ApprovalReport"},t)})}function K(t){return(0,Ct.default)({url:"/Wage/WageReport",method:"post",data:{Method:"GetRemarkList",ReportCode:t}})}function Y(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetPayRollList",SchemeCode:t}})}function B(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdatePayRollSort",SchemeCode:t,strJson:e}})}function H(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetNormalTermList",SchemeCode:t}})}function X(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOnceTermList",SchemeCode:t}})}function tt(t){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Tt.default)({Method:"AddTaxCity"},t)})}function et(t){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Tt.default)({Method:"UpdateTaxCity"},t)})}function at(t){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTaxCityList",EmpId:t}})}function nt(t,e){return(0,Ct.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"DeleteEmpTaxCity",CityId:t,EmpId:e}})}function ot(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:(0,Tt.default)({Method:"GetEmpSchemeList"},t)})}function it(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"EditEmpScheme",EmpId:t,SchemeCode:e}})}function rt(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddEmpScheme",EmpId:t,SchemeCode:e}})}function st(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"DeleteEmpScheme",Id:t}})}function dt(t){console.log(t);for(var e=new FormData,a=0;a<t.length;a++)e.append(t[a].name,t[a]);return e.append("Method","UploadEmpScheme"),e.append("companyCode",bt.default.getters.companyCode),e.append("TokenId",(0,_t.getToken)()),(0,Ct.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:e})}function lt(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeEmpSchemeStatus",Id:t,State:e}})}function ct(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetAmerce",SchemeCode:t,A_Type:e}})}function ut(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveAmerce",SchemeCode:t,strJson:e}})}function mt(t,e,a){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateAmerceStatus",SchemeCode:t,A_Type:e,Status:a}})}function ht(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetWithdrawingForLeave",SchemeCode:t,A_Type:e}})}function pt(t,e,a){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateWithdrawingForLeaveStatus",SchemeCode:t,A_Type:e,Status:a}})}function ft(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveWithdrawingForLeave",SchemeCode:t,strJson:e}})}function gt(t){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOverTime",SchemeCode:t}})}function vt(t,e){return(0,Ct.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveOverTime",SchemeCode:t,strJson:e}})}Object.defineProperty(e,"__esModule",{value:!0});var St=a("Dd8w"),Tt=n(St);e.getPayRecyle=o,e.getTermProject=i,e.getTermAttribute=r,e.getTermType=s,e.getPayRule=d,e.getPayFrequency=l,e.getPayMethod=c,e.getPayLogic=u,e.getJobLevel=m,e.getOffWorkType=h,e.getEmpType=p,e.getEmpStatus=f,e.getCurrency=g,e.getTaxType=v,e.getCityList=S,e.getSalaryList=T,e.addProject=y,e.copyOne=C,e.changeSchemeStatus=x,e.getSchemeDetail=b,e.checkUniqueName=_,e.getSchemeOrgList=L,e.getTermList=M,e.changeTermStatus=W,e.checkUniqueTermName=R,e.getRelStructList=E,e.addTerm=k,e.getTerm=O,e.updateCheckPosition=J,e.getEmpTermList=w,e.getSchemeEmpList=F,e.addOneEmpTerm=P,e.buildEmpTermTemplate=D,e.uploadEmpTerm=U,e.getEmpTermChangeLogList=G,e.getWageReportList=A,e.addOneReport=I,e.process=N,e.getEmpWageReportList=$,e.getFlowIdList=V,e.runEmpReport=j,e.getSingleEmpReport=z,e.getEmpTermListByEmpId=Q,e.getCommitWageReportList=q,e.approvalReport=Z,e.getRemarkList=K,e.getPayRollList=Y,e.updatePayRollSort=B,e.getNormalTermList=H,e.getOnceTermList=X,e.addTaxCity=tt,e.UpdateTaxCity=et,e.getEmpTaxCityList=at,e.deleteEmpTaxCity=nt,e.getEmpSchemeList=ot,e.editEmpScheme=it,e.addEmpScheme=rt,e.deleteEmpScheme=st,e.uploadEmpScheme=dt,e.changeEmpSchemeStatus=lt,e.getAmerce=ct,e.saveAmerce=ut,e.updateAmerceStatus=mt,e.getWithdrawingForLeave=ht,e.updateWithdrawingForLeaveStatus=pt,e.saveWithdrawingForLeave=ft,e.getOverTime=gt,e.saveOverTime=vt;var yt=a("Vo7i"),Ct=n(yt),xt=a("IcnI"),bt=n(xt),_t=a("TIfe")},M0lh:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),i=a("E4LH"),r=a("zL8q");e.default={props:{titleText:{type:String,default:"迟到扣款"},relStructList:{type:Array,default:function(){return[]}},setObj:{type:Object,default:{}}},data:function(){return{isDisabled:!0,TermList:[],operatorList:[{value:">",code:"GT"},{value:"<",code:"LT"},{value:"=",code:"EQ"},{value:">=",code:"GTE"},{value:"<=",code:"LTE"},{value:"<>",code:"NEQ"}],dTypeList:[{value:"扣除固定金额",code:2},{value:"按基数的%",code:1}],timeUnitList:[{value:"小时",code:"HOUR"},{value:"天",code:"DAY"}],standardRule:[{value:"单一标准",code:1},{value:"按程度阶梯式扣款",code:2}],matrixRule:[{value:"请假周期累计额",code:1},{value:"本企业工龄",code:2}],TermCfgList:[],isOnlyRule:!0,ThresholdValue:"",StandardValue:"",dataJson:{A_Type:"",D_Type:1,TimeUnit:"DAY",StandardRule:1,TermList:[],TermCfgList:[],MatrixRule:1,LogicFunction:[{ParamName:"",ParamCode:"",SubFunction:[{Id:1,Operator:">",Threshold:"",StandardValue:"",StandardUnit:""}]}]}}},methods:{handleDType:function(){this.changeUnit(),this.changeTermCfgList()},handleTimeUnit:function(){this.changeUnit(),this.changeTermCfgList()},handleRelStructFilter:function(){this.changeTermCfgList()},handleStandardRule:function(){1===this.dataJson.StandardRule?this.isOnlyRule=!0:this.isOnlyRule=!1},handleMatrixRule:function(){},changeTermCfgList:function(){var t=this,e=[];if(this.TermList.length>0&&this.TermList.forEach(function(a){var n=t.relStructList.filter(function(t){return a===t.Code});e.push(n[0])}),this.dataJson.TermCfgList.length>0){var a=[];e.forEach(function(e){var n=t.dataJson.TermCfgList.filter(function(t){return t.Code===e.Code});n.length>0?a.push(n[0]):(e.Unit=t.unit,a.push(e))}),this.dataJson.TermCfgList=a}else this.dataJson.TermCfgList=e.map(function(e){return e.Unit=t.unit,e});var n=[];e.forEach(function(e){var a=t.dataJson.LogicFunction.filter(function(t){return t.ParamCode===e.Code});if(a.length>0)n.push(a[0]);else{var o={ParamName:e.Name,ParamCode:e.Code,SubFunction:[{Id:1,Operator:">",Threshold:"",StandardValue:"",StandardUnit:t.unit}]};n.push(o)}}),this.dataJson.LogicFunction=n},changeUnit:function(){var t=this;1===this.dataJson.D_Type&&"HOUR"===this.dataJson.TimeUnit?this.unit="% / 小时":1===this.dataJson.D_Type&&"DAY"===this.dataJson.TimeUnit?this.unit="% / 天":2===this.dataJson.D_Type&&"HOUR"===this.dataJson.TimeUnit?this.unit="元 / 小时":2===this.dataJson.D_Type&&"DAY"===this.dataJson.TimeUnit&&(this.unit="元 / 天"),this.dataJson.TermCfgList.forEach(function(e){e.Unit=t.unit}),this.dataJson.LogicFunction.forEach(function(e){e.SubFunction.forEach(function(e){e.StandardUnit=t.unit})})},inputThreshold:function(t){var e=this;if(2===this.dataJson.MatrixRule){if(!(0,i.validatPositiveNum)(t))return r.Message.error("当维度为‘本企业工龄’时，输入值必须为整数"),!1}this.dataJson.LogicFunction.forEach(function(t){t.SubFunction.forEach(function(t){t.Threshold=e.ThresholdValue})})},inputStandard:function(t){var e=this;if(2===this.dataJson.MatrixRule){if(!(0,i.validatPositiveNum)(t))return r.Message.error("当维度为‘本企业工龄’时，输入值必须为整数"),!1}this.dataJson.LogicFunction.forEach(function(t){t.SubFunction.forEach(function(t){t.StandardValue=e.StandardValue})})},validatValue:function(t){if(2===this.dataJson.MatrixRule){if(!(0,i.validatPositiveNum)(t))return r.Message.error("当维度为‘本企业工龄’时，输入值必须为整数"),!1}},addCountRow:function(t){var e={Id:1,Operator:">",Threshold:"",StandardValue:"",StandardUnit:this.unit};this.dataJson.LogicFunction.forEach(function(a){a.ParamCode===t&&(e.Id=a.SubFunction[a.SubFunction.length-1].Id+1,a.SubFunction.push((0,o.default)({},e)))})},delCountRow:function(t,e){this.dataJson.LogicFunction.forEach(function(a){if(a.ParamCode===t){a.SubFunction.splice(e,1);var n=1;a.SubFunction.forEach(function(t){t.Id=n++})}})},save:function(){var t=this.TermList.map(function(t){return{Code:t,Name:""}});this.dataJson.TermList=t,this.$emit("save",this.dataJson)},cancel:function(){}},watch:{setObj:{handler:function(t,e){var a=this;this.dataJson=t;var n=t.TermList;this.TermList=[],n.length>0&&(n.forEach(function(t){a.TermList.push(t.Code)}),this.unit=this.dataJson.TermCfgList[0].Unit),this.handleStandardRule()}},deep:!0}}},MPiR:function(t,e,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a("mvHQ"),i=n(o),r=a("Dd8w"),s=n(r),d=a("LJtj"),l=a("T452"),c=a("zL8q"),u=a("NYxO"),m=a("m6TI"),h=n(m);e.default={data:function(){return{list:[],leaveType:[],nativeStatus:!1,schemeCode:"",activeName:"",relStructList:[],archiveList:[],setObj:{},status:!1}},computed:(0,s.default)({},(0,u.mapGetters)(["loading"])),created:function(){this._getSalaryList(),this._getOffWorkType()},mounted:function(){},methods:{_getSalaryList:function(){var t=this;(0,d.getSalaryList)().then(function(e){e.data.State===l.REQ_OK?t.archiveList=e.data.Data:c.Message.error("薪资方案列表获取失败，请刷新页面重试！"),t.$store.dispatch("setLoadingState",!1)}).catch(function(){c.Message.error("薪资方案列表获取失败，请刷新页面重试！")})},_getWithdrawingForLeave:function(){var t=this;(0,d.getWithdrawingForLeave)(this.schemeCode,this.activeName).then(function(e){e.data.State===l.REQ_OK?(t.setObj=e.data.Data.Function,1===e.data.Data.Status?t.nativeStatus=!0:t.nativeStatus=!1):c.Message.error("请假款项获取失败，请刷新页面重试！")})},_getRelStructList:function(){var t=this;(0,d.getRelStructList)(this.schemeCode).then(function(e){e.data.State===l.REQ_OK?t.relStructList=e.data.Data:c.Message.error("基数列表获取失败，请刷新页面重试！")}).catch(function(){c.Message.error("基数列表获取失败，请刷新页面重试！")})},_getOffWorkType:function(){var t=this;(0,d.getOffWorkType)().then(function(e){e.data.State===l.REQ_OK?(t.leaveType=e.data.Data,t.activeName=t.leaveType[0].Id.toString()):c.Message.error("请假类型获取失败，请刷新页面重试！"),t.$store.dispatch("setLoadingState",!1)}).catch(function(){c.Message.error("请假类型获取失败，请刷新页面重试！")})},handleSchemeFilter:function(){this._getRelStructList(),this._getWithdrawingForLeave()},handleTabClick:function(){this._getWithdrawingForLeave()},handleChangeStatus:function(){var t=this;if(this.schemeCode){var e=this.nativeStatus?1:0;(0,d.updateWithdrawingForLeaveStatus)(this.schemeCode,this.activeName,e).then(function(e){e.data.State===l.REQ_OK?c.Message.success("状态更新成功！"):(t.nativeStatus=!t.nativeStatus,c.Message.error("状态更新失败，请重试！"))}).catch(function(){c.Message.error("状态更新失败，请重试！")})}else c.Message.error("请选择薪资方案！")},save:function(t){var e=this;t.A_Type=this.activeName,c.MessageBox.confirm("确定保存吗?保存之后，之前的设定将无法恢复。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){(0,d.saveWithdrawingForLeave)(e.schemeCode,(0,i.default)(t)).then(function(t){t.data.State===l.REQ_OK?(c.Message.success("保存成功！"),e._getWithdrawingForLeave()):c.Message.error("保存失败，请重试！")}).catch(function(){c.Message.error("保存失败，请重试！")})})},errorMsg:function(t){c.Message.error(t)}},components:{TabsetComponent:h.default}}},"Nk/t":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tabset-component"},[a("div",{staticClass:"content-container"},[a("div",{staticClass:"title"},[a("span",{},[t._v("扣除方式")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"150px","margin-left":"10px"},attrs:{placeholder:"请选择"},on:{change:t.handleDType},model:{value:t.dataJson.D_Type,callback:function(e){t.$set(t.dataJson,"D_Type",e)},expression:"dataJson.D_Type"}},t._l(t.dTypeList,function(t){return a("el-option",{key:t.code,attrs:{label:t.value,value:t.code}})}),1),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"90px"},attrs:{placeholder:"请选择"},on:{change:t.handleTimeUnit},model:{value:t.dataJson.TimeUnit,callback:function(e){t.$set(t.dataJson,"TimeUnit",e)},expression:"dataJson.TimeUnit"}},t._l(t.timeUnitList,function(t){return a("el-option",{key:t.code,attrs:{label:t.value,value:t.code}})}),1),t._v(" "),a("span",{staticStyle:{"margin-left":"30px"}},[t._v("基数")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"553px","margin-left":"10px"},attrs:{multiple:"",placeholder:"请选择（请先选择薪资方案）"},on:{change:t.handleRelStructFilter},model:{value:t.TermList,callback:function(e){t.TermList=e},expression:"TermList"}},t._l(t.relStructList,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}),1)],1),t._v(" "),t.TermList.length>0&&t.dataJson.TimeUnit?a("div",{staticClass:"set-container"},[a("div",[a("span",{},[t._v("基准方式")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择"},on:{change:t.handleStandardRule},model:{value:t.dataJson.StandardRule,callback:function(e){t.$set(t.dataJson,"StandardRule",e)},expression:"dataJson.StandardRule"}},t._l(t.standardRule,function(t){return a("el-option",{key:t.code,attrs:{label:t.value,value:t.code}})}),1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[t.isOnlyRule?a("ul",t._l(t.dataJson.TermCfgList,function(e){return a("li",{key:e.Code,staticStyle:{"margin-bottom":"10px"}},[a("span",{staticStyle:{display:"inline-block",width:"130px"}},[t._v(t._s(e.Name)+"：")]),t._v(" "),a("el-input",{staticClass:"operator-input",staticStyle:{width:"150px"},attrs:{type:"number"},model:{value:e.Value,callback:function(a){t.$set(e,"Value",a)},expression:"item.Value"}}),t._v(" "),a("span",[t._v(t._s(e.Unit))])],1)}),0):t._e(),t._v(" "),t.isOnlyRule?t._e():a("div",{staticStyle:{padding:"20px",border:"1px solid #cccccc","border-radius":"10px"}},[a("span",{},[t._v("维度")]),t._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"200px","margin-left":"10px"},attrs:{placeholder:"请选择"},on:{change:t.handleMatrixRule},model:{value:t.dataJson.MatrixRule,callback:function(e){t.$set(t.dataJson,"MatrixRule",e)},expression:"dataJson.MatrixRule"}},t._l(t.matrixRule,function(t){return a("el-option",{key:t.code,attrs:{label:t.value,value:t.code}})}),1),t._v(" "),2===t.dataJson.MatrixRule?a("span",{staticStyle:{color:"red","font-size":"14px","margin-left":"20px"}},[t._v("\n            注：当维度为“本企业工龄”时，下面输入框内只能输入整数\n          ")]):t._e(),t._v(" "),a("ul",{staticClass:"set-ul",staticStyle:{padding:"20px","margin-top":"20px",border:"1px solid #cccccc","border-radius":"10px"}},[a("div",{staticStyle:{"margin-left":"363px","margin-bottom":"20px"}},[a("span",{staticStyle:{"margin-right":"10px","font-size":"14px"}},[t._v("统一输入")]),t._v(" "),a("el-input",{staticClass:"operator-input",staticStyle:{width:"100px"},attrs:{type:"number"},on:{change:t.inputThreshold},model:{value:t.ThresholdValue,callback:function(e){t.ThresholdValue=e},expression:"ThresholdValue"}}),t._v(" "),a("el-input",{staticClass:"operator-input",staticStyle:{width:"100px","margin-left":"30px"},attrs:{type:"number"},on:{change:t.inputStandard},model:{value:t.StandardValue,callback:function(e){t.StandardValue=e},expression:"StandardValue"}})],1),t._v(" "),t._l(t.dataJson.LogicFunction,function(e){return[a("li",{staticClass:"set-li"},[a("div",{staticClass:"left"},[a("div",{staticClass:"content"},[t._v("\n                    "+t._s(e.ParamName)+"\n                  ")])]),t._v(" "),a("div",{staticClass:"right"},[a("ul",{staticClass:"times-ul"},[t._l(e.SubFunction,function(n,o){return[a("li",{staticClass:"times-li"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"70px"},model:{value:n.Operator,callback:function(e){t.$set(n,"Operator",e)},expression:"countItem.Operator"}},t._l(t.operatorList,function(t){return a("el-option",{key:t.code,attrs:{label:t.value,value:t.code}})}),1),t._v(" "),a("el-input",{staticClass:"operator-input",staticStyle:{width:"100px"},attrs:{type:"number"},on:{change:t.validatValue},model:{value:n.Threshold,callback:function(e){t.$set(n,"Threshold",e)},expression:"countItem.Threshold"}}),t._v(" "),a("el-input",{staticClass:"operator-input",staticStyle:{width:"100px","margin-left":"30px"},attrs:{type:"number"},on:{change:t.validatValue},model:{value:n.StandardValue,callback:function(e){t.$set(n,"StandardValue",e)},expression:"countItem.StandardValue"}}),t._v(" "),a("span",[t._v(t._s(n.StandardUnit))]),t._v(" "),e.SubFunction.length>1?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除此列",placement:"bottom"}},[a("i",{staticClass:"el-icon-circle-close-outline",on:{click:function(a){return t.delCountRow(e.ParamCode,o)}}})]):t._e(),t._v(" "),e.SubFunction.length<2?a("i",{staticClass:"el-icon-circle-close-outline",staticStyle:{opacity:"0"},on:{click:function(a){return t.delCountRow(e.ParamCode,o)}}}):t._e()],1),t._v(" "),o===e.SubFunction.length-1?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"新增",placement:"bottom"}},[a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(a){return t.addCountRow(e.ParamCode)}}})]):t._e()]})],2)])])]})],2)],1)])]):t._e()]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",disabled:!(t.TermList.length>0&&t.dataJson.TimeUnit)},on:{click:t.save}},[t._v("保存")])],1)])},o=[],i={render:n,staticRenderFns:o};e.a=i},Sb9F:function(t,e,a){var n=a("kmhA");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("7fe87754",n,!0,{})},YjSv:function(t,e,a){"use strict";function n(t){a("Sb9F")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("MPiR"),i=a.n(o);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);var s=a("cTA7"),d=a("VU/8"),l=n,c=d(i.a,s.a,!1,l,null,null);e.default=c.exports},cTA7:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"salary-leave-set mg-30"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"btn-tab"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"薪资方案"},on:{change:t.handleSchemeFilter},model:{value:t.schemeCode,callback:function(e){t.schemeCode=e},expression:"schemeCode"}},t._l(t.archiveList,function(t){return a("el-option",{key:t.Code,attrs:{label:t.Name,value:t.Code}})}),1)],1),t._v(" "),a("div",{staticClass:"amerce-set-container"},[a("el-tabs",{on:{"tab-click":t.handleTabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[t._l(t.leaveType,function(e){return[a("el-tab-pane",{attrs:{label:e.Name,name:e.Id.toString()}},[a("div",{staticClass:"header-container"},[a("span",{staticClass:"titleText"},[t._v("状态")]),t._v(" "),a("el-switch",{staticStyle:{"margin-bottom":"5px","margin-left":"30px"},attrs:{"active-text":"启用","inactive-text":"停用"},on:{change:t.handleChangeStatus},model:{value:t.nativeStatus,callback:function(e){t.nativeStatus=e},expression:"nativeStatus"}})],1),t._v(" "),a("tabset-component",{attrs:{relStructList:t.relStructList,setObj:t.setObj},on:{save:t.save,errorMsg:t.errorMsg}})],1)]})],2),t._v(" "),a("el-card",{staticClass:"box-card prompt-card",staticStyle:{"margin-bottom":"30px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("提示")])]),t._v(" "),a("div",{staticClass:"text item"},[t._v("\n          出差：薪资项目按劳动合同约定标准执行\n        ")]),t._v(" "),a("div",{staticClass:"text item"},[t._v("\n          旷工：劳动法规定，用人单位将不支付旷工期间工资；如事先有约定，也可按劳动合同约定的标准执行。如涉及罚款一般不超过本人月标准工资的20%\n        ")]),t._v(" "),a("div",{staticClass:"text item"},[t._v("\n          事假：劳动法规定，用人单位扣除月基本工资/21.75*事假天数\n        ")]),t._v(" "),a("div",{staticClass:"text item"},[t._v("\n          病假：劳动法规定，用人单位与劳动者无任何约定时，扣除月基本工资/21.75*70%*病假天数。如劳动合同有约定，则按不低于劳动合同约定的标准执行\n        ")]),t._v(" "),a("div",{staticClass:"text item"},[t._v("\n          婚假、产假、丧假、计划生育假、年假、工伤假、哺乳假：劳动法规定，劳动者在假期享受与正常工作期间相同的工资收入。\n        ")])])],1)])],1)},o=[],i={render:n,staticRenderFns:o};e.a=i},kQuE:function(t,e,a){var n=a("7Aca");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("902ecaa6",n,!0,{})},kmhA:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".salary-leave-set{width:1000px;margin:0 auto}.salary-leave-set .el-card{margin-top:30px}.salary-leave-set .el-card .btn-tab{margin-bottom:10px;display:inline-block}.salary-leave-set .prompt-card .el-card__header{padding:10px 20px}.salary-leave-set .prompt-card .el-card__header span{color:red}.salary-leave-set .prompt-card .item{margin-bottom:10px;line-height:1.5}.salary-leave-set .header-container{margin-top:20px;margin-bottom:20px;font-weight:600}",""])},m6TI:function(t,e,a){"use strict";function n(t){a("kQuE")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("M0lh"),i=a.n(o);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);var s=a("Nk/t"),d=a("VU/8"),l=n,c=d(i.a,s.a,!1,l,null,null);e.default=c.exports},mvHQ:function(t,e,a){t.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(t,e,a){var n=a("FeBl"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}}});