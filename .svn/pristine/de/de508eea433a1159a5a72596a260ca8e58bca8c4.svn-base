webpackJsonp([54],{"+auR":function(e,t,a){"use strict";function o(e){a("dGZf")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Xi5d"),n=a.n(r);for(var d in r)"default"!==d&&function(e){a.d(t,e,function(){return r[e]})}(d);var i=a("RlkE"),l=a("VU/8"),s=o,u=l(n.a,i.a,!1,s,"data-v-09a4aa08",null);t.default=u.exports},"+kvZ":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,'.salary-month-report[data-v-09a4aa08]{position:relative}.salary-month-report .btn-tab[data-v-09a4aa08]{margin-bottom:20px;display:inline-block}.salary-month-report .right-btn-item[data-v-09a4aa08]{float:right}.salary-month-report .dialog-item .el-dialog[data-v-09a4aa08]{width:500px}.salary-month-report .dialog-item .el-dialog .box-card .item[data-v-09a4aa08]{padding-top:10px;padding-bottom:10px;border-bottom:1px solid rgba(0,0,0,.1)}.salary-month-report .dialog-item .el-dialog .box-card .item .remark-title .name[data-v-09a4aa08],.salary-month-report .dialog-item .el-dialog .box-card .item .remark-title .state[data-v-09a4aa08]{display:inline-block;width:150px;margin-right:20px}.salary-month-report[data-v-09a4aa08]:after{content:" ";display:block;height:0;clear:both}',""])},LJtj:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRecyle"}})}function n(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermProject"}})}function d(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermAttribute"}})}function i(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermType"}})}function l(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRule"}})}function s(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayFrequency"}})}function u(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayMethod"}})}function c(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayLogic"}})}function m(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetJobLevel"}})}function h(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetOffWorkType"}})}function p(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpType"}})}function g(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpStatus"}})}function f(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCurrency"}})}function S(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTaxType"}})}function v(){return(0,be.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCityList"}})}function y(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetList",PageSize:e,PageIndex:t}})}function C(e,t,a){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddOne",strJson1:e,strJson2:t,strJson3:a}})}function b(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CopyOne",SchemeCode:e,SchemeName:t}})}function _(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeSchemeStatus",Code:e,Status:t}})}function W(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeDetail",SchemeCode:e}})}function M(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueName",Name:e,Code:t}})}function T(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeOrgList",SchemeCode:e}})}function L(e,t){return(0,be.default)({url:"/Wage/Scheme ",method:"post",data:{Method:"GetTermList",SchemeCode:e,TaxType:t}})}function k(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeTermStatus",Code:e,Status:t}})}function R(e,t,a){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueTermName",Code:a,Name:e,SchemeCode:t}})}function E(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetRelStructList",SchemeCode:e}})}function x(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddTerm",strJson:e}})}function w(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetTerm",Code:e}})}function O(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateCheckPosition",SchemeCode:e,PositionCode:t}})}function D(e){return(0,be.default)({url:"/Wage/WageReport",method:"post",data:(0,ye.default)({Method:"GetEmpTermList"},e)})}function G(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeEmpList",SchemeCode:e,PageIndex:1,PageSize:9999}})}function P(e){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:(0,ye.default)({Method:"AddOne"},e)})}function I(e){return(0,be.default)({url:"/Wage/IO",method:"post",data:{Method:"BuildEmpTermTemplate",SchemeCode:e}})}function Q(e,t){var a=new FormData;console.log(e);for(var o=0;o<e.length;o++)a.append(e[o].name,e[o]);return a.append("Method","UploadEmpTerm"),a.append("companyCode",We.default.getters.companyCode),a.append("TokenId",(0,Me.getToken)()),a.append("SchemeCode",t.SchemeCode),console.log(Date.parse(t.OnDate)),a.append("OnDate",t.OnDate.toISOString()),(0,be.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:a})}function $(e){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:(0,ye.default)({Method:"GetEmpTermChangeLogList"},e)})}function j(e){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:(0,ye.default)({Method:"GetWageReportList"},e)})}function N(e){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:(0,ye.default)({Method:"AddOne"},e)})}function z(e,t,a){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"Process",Code:e,OP:t,Remark:a}})}function A(e){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:(0,ye.default)({Method:"GetEmpWageReportList"},e)})}function F(e,t,a){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetFlowIdList",SchemeCode:e,OnYear:t,OnMonth:a}})}function U(e,t){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"RunEmpReport",ReportCode:e,EmpIds:t}})}function J(e,t,a){return(0,be.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetSingleEmpReport",EmpId:e,OnYear:t,SchemeCode:a}})}function V(e,t,a){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTermListByEmpId",EmpId:e,SchemeCode:t,type:a}})}function Y(e){return(0,be.default)({url:"/Wage/WageReport",method:"post",data:(0,ye.default)({Method:"GetCommitWageReportList"},e)})}function B(e){return(0,be.default)({url:"/Wage/WageReport",method:"post",data:(0,ye.default)({Method:"ApprovalReport"},e)})}function q(e){return(0,be.default)({url:"/Wage/WageReport",method:"post",data:{Method:"GetRemarkList",ReportCode:e}})}function K(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetPayRollList",SchemeCode:e}})}function Z(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdatePayRollSort",SchemeCode:e,strJson:t}})}function X(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetNormalTermList",SchemeCode:e}})}function H(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOnceTermList",SchemeCode:e}})}function ee(e){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:(0,ye.default)({Method:"AddTaxCity"},e)})}function te(e){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:(0,ye.default)({Method:"UpdateTaxCity"},e)})}function ae(e){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTaxCityList",EmpId:e}})}function oe(e,t){return(0,be.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"DeleteEmpTaxCity",CityId:e,EmpId:t}})}function re(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:(0,ye.default)({Method:"GetEmpSchemeList"},e)})}function ne(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"EditEmpScheme",EmpId:e,SchemeCode:t}})}function de(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddEmpScheme",EmpId:e,SchemeCode:t}})}function ie(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"DeleteEmpScheme",Id:e}})}function le(e){console.log(e);for(var t=new FormData,a=0;a<e.length;a++)t.append(e[a].name,e[a]);return t.append("Method","UploadEmpScheme"),t.append("companyCode",We.default.getters.companyCode),t.append("TokenId",(0,Me.getToken)()),(0,be.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:t})}function se(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeEmpSchemeStatus",Id:e,State:t}})}function ue(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetAmerce",SchemeCode:e,A_Type:t}})}function ce(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveAmerce",SchemeCode:e,strJson:t}})}function me(e,t,a){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateAmerceStatus",SchemeCode:e,A_Type:t,Status:a}})}function he(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetWithdrawingForLeave",SchemeCode:e,A_Type:t}})}function pe(e,t,a){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateWithdrawingForLeaveStatus",SchemeCode:e,A_Type:t,Status:a}})}function ge(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveWithdrawingForLeave",SchemeCode:e,strJson:t}})}function fe(e){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOverTime",SchemeCode:e}})}function Se(e,t){return(0,be.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveOverTime",SchemeCode:e,strJson:t}})}Object.defineProperty(t,"__esModule",{value:!0});var ve=a("Dd8w"),ye=o(ve);t.getPayRecyle=r,t.getTermProject=n,t.getTermAttribute=d,t.getTermType=i,t.getPayRule=l,t.getPayFrequency=s,t.getPayMethod=u,t.getPayLogic=c,t.getJobLevel=m,t.getOffWorkType=h,t.getEmpType=p,t.getEmpStatus=g,t.getCurrency=f,t.getTaxType=S,t.getCityList=v,t.getSalaryList=y,t.addProject=C,t.copyOne=b,t.changeSchemeStatus=_,t.getSchemeDetail=W,t.checkUniqueName=M,t.getSchemeOrgList=T,t.getTermList=L,t.changeTermStatus=k,t.checkUniqueTermName=R,t.getRelStructList=E,t.addTerm=x,t.getTerm=w,t.updateCheckPosition=O,t.getEmpTermList=D,t.getSchemeEmpList=G,t.addOneEmpTerm=P,t.buildEmpTermTemplate=I,t.uploadEmpTerm=Q,t.getEmpTermChangeLogList=$,t.getWageReportList=j,t.addOneReport=N,t.process=z,t.getEmpWageReportList=A,t.getFlowIdList=F,t.runEmpReport=U,t.getSingleEmpReport=J,t.getEmpTermListByEmpId=V,t.getCommitWageReportList=Y,t.approvalReport=B,t.getRemarkList=q,t.getPayRollList=K,t.updatePayRollSort=Z,t.getNormalTermList=X,t.getOnceTermList=H,t.addTaxCity=ee,t.UpdateTaxCity=te,t.getEmpTaxCityList=ae,t.deleteEmpTaxCity=oe,t.getEmpSchemeList=re,t.editEmpScheme=ne,t.addEmpScheme=de,t.deleteEmpScheme=ie,t.uploadEmpScheme=le,t.changeEmpSchemeStatus=se,t.getAmerce=ue,t.saveAmerce=ce,t.updateAmerceStatus=me,t.getWithdrawingForLeave=he,t.updateWithdrawingForLeaveStatus=pe,t.saveWithdrawingForLeave=ge,t.getOverTime=fe,t.saveOverTime=Se;var Ce=a("Vo7i"),be=o(Ce),_e=a("IcnI"),We=o(_e),Me=a("TIfe")},RlkE:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"salary-month-report mg-30"},[a("div",{staticClass:"btn-tab"},[a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"薪资方案"},model:{value:e.listQuery.SchemeCode,callback:function(t){e.$set(e.listQuery,"SchemeCode",t)},expression:"listQuery.SchemeCode"}},e._l(e.archiveList,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1),e._v(" "),a("el-date-picker",{attrs:{align:"right",type:"year","value-format":"yyyy",placeholder:"选择有效年份"},on:{change:e.changeYear},model:{value:e.listQuery.OnYear,callback:function(t){e.$set(e.listQuery,"OnYear",t)},expression:"listQuery.OnYear"}}),e._v(" "),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"btn-tab right-btn-item",staticStyle:{"margin-bottom":"20px"}},[a("el-button",{staticClass:"right-btn",attrs:{type:"primary"},on:{click:function(t){return e.addSalaryOut()}}},[e._v("\n      增加薪资发放\n    ")]),e._v(" "),a("el-button",{staticClass:"right-btn",on:{click:function(t){return e.handleDownload()}}},[e._v("\n      报表\n    ")])],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":"","show-summary":""}},[a("el-table-column",{attrs:{label:"名称",align:"center",prop:"ReportName"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属月份",align:"center",prop:"OnYearMonth"}}),e._v(" "),a("el-table-column",{attrs:{label:"发放批次",align:"center",prop:"FlowId"}}),e._v(" "),a("el-table-column",{attrs:{label:"人数",align:"center",prop:"Total"}}),e._v(" "),a("el-table-column",{attrs:{label:"收入合计",align:"center",prop:"GT"}}),e._v(" "),a("el-table-column",{attrs:{label:"扣减合计",align:"center",prop:"PT"}}),e._v(" "),a("el-table-column",{attrs:{label:"应纳税所得额",align:"center",prop:"GTT"}}),e._v(" "),a("el-table-column",{attrs:{label:"应纳税额",align:"center",prop:"TAX"}}),e._v(" "),a("el-table-column",{attrs:{label:"实发合计",align:"center",prop:"RT"}}),e._v(" "),a("el-table-column",{attrs:{label:"确定",align:"center",prop:"Ensure"}}),e._v(" "),a("el-table-column",{attrs:{label:"疑问",align:"center",prop:"Doubt"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"StateName"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.State||3===t.row.State||4===t.row.State||5===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row,"detail")}}},[e._v("\n          查看\n        ")]):e._e(),e._v(" "),0===t.row.State||1===t.row.State||6===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row,"dispose")}}},[e._v("\n          处理\n        ")]):e._e(),e._v(" "),0===t.row.State||1===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,-2)}}},[e._v("\n          删除\n        ")]):e._e(),e._v(" "),1===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,2)}}},[e._v("\n          归档\n        ")]):e._e(),e._v(" "),3===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,3)}}},[e._v("\n          发送\n        ")]):e._e(),e._v(" "),4===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,4)}}},[e._v("\n          解封\n        ")]):e._e(),e._v(" "),4===t.row.State||6===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,5)}}},[e._v("\n          提交审批\n        ")]):e._e(),e._v(" "),5===t.row.State?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleState(t.row.ReportCode,-1)}}},[e._v("\n          撤回\n        ")]):e._e(),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.showRemark(t.row)}}},[e._v("\n          查看备注\n        ")])]}}])}),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.PageIndex,"page-sizes":[10,20,30,50],"page-size":e.listQuery.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.listQuery,"PageIndex",t)},"update:current-page":function(t){return e.$set(e.listQuery,"PageIndex",t)}}})],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog-item",attrs:{title:"新增薪资发放",visible:e.addVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,"modal-append-to-body":!1},on:{"update:visible":function(t){e.addVisible=t}}},[a("el-date-picker",{staticStyle:{width:"450px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(t){return e.rangdate()}},model:{value:e.rangDate,callback:function(t){e.rangDate=t},expression:"rangDate"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{"margin-top":"10px",width:"450px"},attrs:{placeholder:"名称"},model:{value:e.obj.Name,callback:function(t){e.$set(e.obj,"Name",t)},expression:"obj.Name"}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveSalaryOut}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{staticClass:"dialog-item",attrs:{title:"备注列表",visible:e.remarkVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":!1,width:"600px"},on:{"update:visible":function(t){e.remarkVisible=t}}},[a("el-card",{staticClass:"box-card"},e._l(e.remarkList,function(t){return a("div",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.remarkList,group:"color"},expression:"{ item: item, list: remarkList, group: 'color' }"}],key:t.Id,staticClass:"text item"},[a("div",{staticClass:"remark-title"},[a("span",{staticClass:"name"},[a("b",[e._v("审批人：")]),e._v(e._s(t.UserName))]),e._v(" "),a("span",{staticClass:"state"},[a("b",[e._v("月报状态：")]),e._v(e._s(t.StateName))]),e._v(" "),a("span",{staticClass:"time"},[e._v(e._s(t.CreateDateString))])]),e._v(" "),a("p",{staticClass:"remark-content",domProps:{innerHTML:e._s(""===t.Remark?"暂无备注":t.Remark)}})])}),0),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.remarkVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),a("router-view",{directives:[{name:"wechat-title",rawName:"v-wechat-title",value:e.$route.meta.title,expression:"$route.meta.title"}]})],1)},r=[],n={render:o,staticRenderFns:r};t.a=n},Xi5d:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("d7EF"),n=o(r),d=a("Dd8w"),i=o(d),l=a("LJtj"),s=a("T452"),u=a("zL8q"),c=a("NYxO");t.default={data:function(){return{list:[],archiveList:[],rangDate:"",total:null,listQuery:{SchemeCode:"",OnYear:(new Date).getFullYear().toString(),PageIndex:1,PageSize:10},addVisible:!1,remarkVisible:!1,remarkList:[],obj:{Name:"",BeginDate:null,EndDate:null}}},created:function(){this._getSalaryList(),this._getWageReportList(),this.$store.dispatch("setLoadingState",!0)},mounted:function(){this.$dragging.$on("dragged",function(e){var t=e.value;console.log(t.item),console.log(t.list)}),this.$dragging.$on("dragend",function(){})},computed:(0,i.default)({},(0,c.mapGetters)(["loading"])),methods:{_getSalaryList:function(){var e=this;(0,l.getSalaryList)().then(function(t){t.data.State===s.REQ_OK&&(e.archiveList=t.data.Data),e.$store.dispatch("setLoadingState",!1)}).catch(function(){e.$store.dispatch("setLoadingState",!1)})},_getWageReportList:function(){var e=this;(0,l.getWageReportList)(this.listQuery).then(function(t){t.data.State===s.REQ_OK&&(e.list=t.data.Data)}).catch(function(){e.$store.dispatch("setLoadingState",!1)})},changeYear:function(){console.log(this.OnYear)},handleFilter:function(){return this.listQuery.SchemeCode?this.listQuery.OnYear?void this._getWageReportList():void u.Message.error("请选择有效年份"):void u.Message.error("请选择薪资方案")},addSalaryOut:function(){this.addVisible=!0},saveSalaryOut:function(){var e=this;return this.listQuery.SchemeCode?this.obj.BeginDate?this.obj.EndDate?this.obj.Name?(this.obj.SchemeCode=this.listQuery.SchemeCode,void(0,l.addOneReport)(this.obj).then(function(t){t.data.State===s.REQ_OK&&(e.addVisible=!1,e._getWageReportList())})):u.Message.error("请选择输入名称"):u.Message.error("请选择结束时间"):u.Message.error("请选择开始时间"):u.Message.error("请选择薪资方案")},rangdate:function(){var e=(0,n.default)(this.rangDate,2),t=e[0],a=e[1];this.obj.BeginDate=t,this.obj.EndDate=a},handleState:function(e,t){var a=this;switch(t){case"dispose":this.$router.push({path:"/salary/salaryCommonMonth",query:{reportCode:e.ReportCode,schemeCode:e.SchemeCode,dispose:!0}});break;case"detail":this.$router.push({path:"/salary/salaryCommonMonth",query:{reportCode:e.ReportCode,schemeCode:e.SchemeCode,detail:!0}});break;case 4:this.$confirm("确定对薪资方案-薪资名称-薪资月（批次）执行解封吗？解封后您可对薪资数据进行修改。","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a._process(e,t),a.$message({type:"success",message:"删除成功!"})}).catch(function(){a.$message({type:"info",message:"已取消删除"})});break;case 5:this.$prompt("请输入备注","提示",{confirmButtonText:"确定",cancelButtonText:"取消",inputPlaceholder:"备注",inputType:"textarea"}).then(function(o){var r=o.value;a._process(e,t,r)}).catch(function(){a.$message({type:"error",message:"提交失败，请重试"})});break;default:this._process(e,t)}},_process:function(e,t,a){var o=this;(0,l.process)(e,t,a).then(function(e){e.data.State===s.REQ_OK?(u.Message.success("操作成功！"),o._getWageReportList()):o.$message({type:"error",message:e.data.Error})}).catch(function(){u.Message.error("操作失败，请重试！")})},showRemark:function(e){var t=this;(0,l.getRemarkList)(e.ReportCode).then(function(e){e.data.State===s.REQ_OK?e.data.Data.length>0?(t.remarkList=e.data.Data,t.remarkVisible=!0):u.Message.info("暂无备注！"):u.Message.error("备注列表获取失败，请重试！")}).catch(function(){u.Message.error("备注列表获取失败，请重试！")})},handleSizeChange:function(e){this.listQuery.PageSize=e},handleCurrentChange:function(e){this.listQuery.PageIndex=e}}}},dGZf:function(e,t,a){var o=a("+kvZ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("478e5e00",o,!0,{})}});