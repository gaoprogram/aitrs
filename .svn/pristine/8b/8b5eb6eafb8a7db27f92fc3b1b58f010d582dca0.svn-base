webpackJsonp([49],{"1tLB":function(e,t,a){"use strict";function o(e){a("Jmyl")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("Rj9u"),n=a.n(r);for(var d in r)"default"!==d&&function(e){a.d(t,e,function(){return r[e]})}(d);var u=a("VoPb"),l=a("VU/8"),i=o,c=l(n.a,u.a,!1,i,"data-v-1a25e99a",null);t.default=c.exports},Jmyl:function(e,t,a){var o=a("nzkI");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("32a09e38",o,!0,{})},LJtj:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRecyle"}})}function n(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermProject"}})}function d(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermAttribute"}})}function u(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermType"}})}function l(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRule"}})}function i(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayFrequency"}})}function c(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayMethod"}})}function s(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayLogic"}})}function h(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetJobLevel"}})}function m(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetOffWorkType"}})}function p(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpType"}})}function g(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpStatus"}})}function f(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCurrency"}})}function S(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTaxType"}})}function y(){return(0,Te.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCityList"}})}function C(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetList",PageSize:e,PageIndex:t}})}function v(e,t,a){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddOne",strJson1:e,strJson2:t,strJson3:a}})}function T(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CopyOne",SchemeCode:e,SchemeName:t}})}function W(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeSchemeStatus",Code:e,Status:t}})}function L(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeDetail",SchemeCode:e}})}function b(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueName",Name:e,Code:t}})}function M(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeOrgList",SchemeCode:e}})}function E(e,t){return(0,Te.default)({url:"/Wage/Scheme ",method:"post",data:{Method:"GetTermList",SchemeCode:e,TaxType:t}})}function O(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeTermStatus",Code:e,Status:t}})}function _(e,t,a){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueTermName",Code:a,Name:e,SchemeCode:t}})}function k(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetRelStructList",SchemeCode:e}})}function R(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddTerm",strJson:e}})}function x(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetTerm",Code:e}})}function P(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateCheckPosition",SchemeCode:e,PositionCode:t}})}function D(e){return(0,Te.default)({url:"/Wage/WageReport",method:"post",data:(0,Ce.default)({Method:"GetEmpTermList"},e)})}function G(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeEmpList",SchemeCode:e,PageIndex:1,PageSize:9999}})}function j(e){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Ce.default)({Method:"AddOne"},e)})}function I(e){return(0,Te.default)({url:"/Wage/IO",method:"post",data:{Method:"BuildEmpTermTemplate",SchemeCode:e}})}function q(e,t){var a=new FormData;console.log(e);for(var o=0;o<e.length;o++)a.append(e[o].name,e[o]);return a.append("Method","UploadEmpTerm"),a.append("companyCode",Le.default.getters.companyCode),a.append("TokenId",(0,be.getToken)()),a.append("SchemeCode",t.SchemeCode),console.log(Date.parse(t.OnDate)),a.append("OnDate",t.OnDate.toISOString()),(0,Te.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:a})}function w(e){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Ce.default)({Method:"GetEmpTermChangeLogList"},e)})}function N(e){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:(0,Ce.default)({Method:"GetWageReportList"},e)})}function A(e){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:(0,Ce.default)({Method:"AddOne"},e)})}function $(e,t,a){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"Process",Code:e,OP:t,Remark:a}})}function F(e){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:(0,Ce.default)({Method:"GetEmpWageReportList"},e)})}function J(e,t,a){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetFlowIdList",SchemeCode:e,OnYear:t,OnMonth:a}})}function z(e,t){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"RunEmpReport",ReportCode:e,EmpIds:t}})}function U(e,t,a){return(0,Te.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetSingleEmpReport",EmpId:e,OnYear:t,SchemeCode:a}})}function K(e,t,a){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTermListByEmpId",EmpId:e,SchemeCode:t,type:a}})}function V(e){return(0,Te.default)({url:"/Wage/WageReport",method:"post",data:(0,Ce.default)({Method:"GetCommitWageReportList"},e)})}function Q(e){return(0,Te.default)({url:"/Wage/WageReport",method:"post",data:(0,Ce.default)({Method:"ApprovalReport"},e)})}function B(e){return(0,Te.default)({url:"/Wage/WageReport",method:"post",data:{Method:"GetRemarkList",ReportCode:e}})}function H(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetPayRollList",SchemeCode:e}})}function Y(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdatePayRollSort",SchemeCode:e,strJson:t}})}function Z(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetNormalTermList",SchemeCode:e}})}function X(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOnceTermList",SchemeCode:e}})}function ee(e){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Ce.default)({Method:"AddTaxCity"},e)})}function te(e){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:(0,Ce.default)({Method:"UpdateTaxCity"},e)})}function ae(e){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTaxCityList",EmpId:e}})}function oe(e,t){return(0,Te.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"DeleteEmpTaxCity",CityId:e,EmpId:t}})}function re(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:(0,Ce.default)({Method:"GetEmpSchemeList"},e)})}function ne(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"EditEmpScheme",EmpId:e,SchemeCode:t}})}function de(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddEmpScheme",EmpId:e,SchemeCode:t}})}function ue(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"DeleteEmpScheme",Id:e}})}function le(e){console.log(e);for(var t=new FormData,a=0;a<e.length;a++)t.append(e[a].name,e[a]);return t.append("Method","UploadEmpScheme"),t.append("companyCode",Le.default.getters.companyCode),t.append("TokenId",(0,be.getToken)()),(0,Te.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:t})}function ie(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeEmpSchemeStatus",Id:e,State:t}})}function ce(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetAmerce",SchemeCode:e,A_Type:t}})}function se(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveAmerce",SchemeCode:e,strJson:t}})}function he(e,t,a){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateAmerceStatus",SchemeCode:e,A_Type:t,Status:a}})}function me(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetWithdrawingForLeave",SchemeCode:e,A_Type:t}})}function pe(e,t,a){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateWithdrawingForLeaveStatus",SchemeCode:e,A_Type:t,Status:a}})}function ge(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveWithdrawingForLeave",SchemeCode:e,strJson:t}})}function fe(e){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOverTime",SchemeCode:e}})}function Se(e,t){return(0,Te.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveOverTime",SchemeCode:e,strJson:t}})}Object.defineProperty(t,"__esModule",{value:!0});var ye=a("Dd8w"),Ce=o(ye);t.getPayRecyle=r,t.getTermProject=n,t.getTermAttribute=d,t.getTermType=u,t.getPayRule=l,t.getPayFrequency=i,t.getPayMethod=c,t.getPayLogic=s,t.getJobLevel=h,t.getOffWorkType=m,t.getEmpType=p,t.getEmpStatus=g,t.getCurrency=f,t.getTaxType=S,t.getCityList=y,t.getSalaryList=C,t.addProject=v,t.copyOne=T,t.changeSchemeStatus=W,t.getSchemeDetail=L,t.checkUniqueName=b,t.getSchemeOrgList=M,t.getTermList=E,t.changeTermStatus=O,t.checkUniqueTermName=_,t.getRelStructList=k,t.addTerm=R,t.getTerm=x,t.updateCheckPosition=P,t.getEmpTermList=D,t.getSchemeEmpList=G,t.addOneEmpTerm=j,t.buildEmpTermTemplate=I,t.uploadEmpTerm=q,t.getEmpTermChangeLogList=w,t.getWageReportList=N,t.addOneReport=A,t.process=$,t.getEmpWageReportList=F,t.getFlowIdList=J,t.runEmpReport=z,t.getSingleEmpReport=U,t.getEmpTermListByEmpId=K,t.getCommitWageReportList=V,t.approvalReport=Q,t.getRemarkList=B,t.getPayRollList=H,t.updatePayRollSort=Y,t.getNormalTermList=Z,t.getOnceTermList=X,t.addTaxCity=ee,t.UpdateTaxCity=te,t.getEmpTaxCityList=ae,t.deleteEmpTaxCity=oe,t.getEmpSchemeList=re,t.editEmpScheme=ne,t.addEmpScheme=de,t.deleteEmpScheme=ue,t.uploadEmpScheme=le,t.changeEmpSchemeStatus=ie,t.getAmerce=ce,t.saveAmerce=se,t.updateAmerceStatus=he,t.getWithdrawingForLeave=me,t.updateWithdrawingForLeaveStatus=pe,t.saveWithdrawingForLeave=ge,t.getOverTime=fe,t.saveOverTime=Se;var ve=a("Vo7i"),Te=o(ve),We=a("IcnI"),Le=o(We),be=a("TIfe")},Rj9u:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a("mvHQ"),n=o(r),d=a("Dd8w"),u=o(d),l=a("LJtj"),i=a("vZz+"),c=a("T452"),s=a("zL8q"),h=a("NYxO");t.default={data:function(){return{list:[],queryObj:{Org:[],SchemeCode:"",KeyWord:"",EmpType:1,OnDate:null,PageIndex:1,PageSize:10},total:0,tidVisible:!1,tidList:[],archiveList:[],EmpType:[],defaultProps:{children:"children",label:"label"},defaultCheck:[]}},created:function(){this._getOrgList(),this._getSalaryList(),this._getEmpType(),this._getEmpTermChangeLogList(),this.$store.dispatch("setLoadingState",!0)},computed:(0,u.default)({},(0,h.mapGetters)(["loading","companyCode","token"]),{changeLoading:function(){return this.$store.dispatch("setLoadingState",!0)}}),methods:{_getOrgList:function(){var e=this;(0,i.getOrgList)().then(function(t){if(t.data.State===c.REQ_OK){var a=t.data.Data;e.tidList=e._orginList(a)}else s.Message.error("组织列表获取失败，请重试！");e.$store.dispatch("setLoadingState",!1)}).catch(function(){s.Message.error("组织列表获取失败，请重试！")})},_getSalaryList:function(){var e=this;(0,l.getSalaryList)().then(function(t){t.data.State===c.REQ_OK?e.archiveList=t.data.Data:s.Message.error("薪资方案列表获取失败，请刷新页面重试！"),e.$store.dispatch("setLoadingState",!1)}).catch(function(){s.Message.error("薪资方案列表获取失败，请刷新页面重试！")})},_getEmpType:function(){var e=this;(0,l.getEmpType)().then(function(t){t.data.State===c.REQ_OK?e.EmpType=t.data.Data:s.Message.error("员工类型列表获取失败，请刷新页面重试！"),e.$store.dispatch("setLoadingState",!1)}).catch(function(){e.$store.dispatch("setLoadingState",!1)})},_getEmpTermChangeLogList:function(){var e=this;(0,l.getEmpTermChangeLogList)(this.queryObj).then(function(t){t.data.State===c.REQ_OK?(e.list=t.data.Data,e.total=t.data.Total):s.Message.error("定薪调薪列表加载失败，请刷新页面重试！"),e.$store.dispatch("setLoadingState",!1)})},setCheckedNode:function(){var e=this;this.tidVisible=!0,this.defaultCheck.length>0&&this.$nextTick(function(){e.$refs.tree.setCheckedKeys([]),e.$refs.tree.setCheckedKeys(e.defaultCheck)})},handleFilter:function(){this.defaultCheck.length>0&&(this.queryObj.Org=(0,n.default)(this.defaultCheck)),this._getEmpTermChangeLogList()},handleSizeChange:function(e){this.queryObj.PageSize=e,this._getEmpTermChangeLogList()},handleCurrentChange:function(e){this.queryObj.PageIndex=e,this._getEmpTermChangeLogList()},changeObj:function(){this.defaultCheck.length>0&&(this.queryObj.Org=(0,n.default)(this.defaultCheck))},trueLoading:function(){this.$store.dispatch("setLoadingState",!0)},falseLoading:function(){this.$store.dispatch("setLoadingState",!1)},handleDownload:function(){},_orginList:function(e){var t=this,a=[];return e.forEach(function(e){var o=void 0;o=e.Child&&e.Child.length>0?{value:e.OrgCode,label:e.OrgName,children:t._orginList(e.Child)}:{value:e.OrgCode,label:e.OrgName},a.push(o)}),a}}}},VoPb:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"salary-update mg-30"},[a("div",{staticClass:"btn-tab"},[a("el-button",{staticStyle:{"margin-bottom":"10px"},on:{click:function(t){return e.setCheckedNode()}}},[e._v("\n      选择组织\n    ")]),e._v(" "),a("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{placeholder:"薪资方案"},model:{value:e.queryObj.SchemeCode,callback:function(t){e.$set(e.queryObj,"SchemeCode",t)},expression:"queryObj.SchemeCode"}},e._l(e.archiveList,function(e){return a("el-option",{key:e.Code,attrs:{label:e.Name,value:e.Code}})}),1),e._v(" "),a("el-select",{staticClass:"filter-item empType",staticStyle:{width:"120px"},attrs:{multiple:"",placeholder:"员工类型"},model:{value:e.queryObj.EmpType,callback:function(t){e.$set(e.queryObj,"EmpType",t)},expression:"queryObj.EmpType"}},e._l(e.EmpType,function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"薪资日期"},model:{value:e.queryObj.OnDate,callback:function(t){e.$set(e.queryObj,"OnDate",t)},expression:"queryObj.OnDate"}}),e._v(" "),a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"姓名 / 员工号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleFilter(t)}},model:{value:e.queryObj.KeyWord,callback:function(t){e.$set(e.queryObj,"KeyWord",t)},expression:"queryObj.KeyWord"}}),e._v(" "),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-bottom":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("搜索")]),e._v(" "),a("el-button",{staticClass:"right-btn",attrs:{type:"primary"},on:{click:function(t){return e.handleDownload()}}},[e._v("\n      导出\n    ")])],1),e._v(" "),a("el-table",{attrs:{data:e.list,border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"员工号",align:"center",prop:"EmployeeId"}}),e._v(" "),a("el-table-column",{attrs:{label:"姓名",align:"center",prop:"EmployeeName"}}),e._v(" "),a("el-table-column",{attrs:{label:"薪资规则",align:"center",prop:"SchemeName"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属组织",align:"center",prop:"OrgName"}}),e._v(" "),a("el-table-column",{attrs:{label:"生效日期",align:"center",prop:"BeginDate"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("replaceTimeNoH")(t.row.BeginDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"Remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"薪资项目",align:"center",prop:"TermName"}}),e._v(" "),a("el-table-column",{attrs:{label:"调整后预设标准",align:"center",prop:"NewDefaultSettingLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"调整后金额",align:"center",prop:"NewTermValue"}}),e._v(" "),a("el-table-column",{attrs:{label:"调整前预设标准",align:"center",prop:"OldDefaultSettingLabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"调整前金额",align:"center",prop:"OldTermValue"}})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.queryObj.PageIndex,"page-sizes":[5,10,20,30],"page-size":e.queryObj.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.queryObj,"PageIndex",t)},"update:current-page":function(t){return e.$set(e.queryObj,"PageIndex",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:"选择组织",visible:e.tidVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"modal-append-to-body":!1,"show-close":!1,"append-to-body":""}},[a("el-tree",{ref:"tree",attrs:{data:e.tidList,"show-checkbox":"","node-key":"value","expand-on-click-node":"","highlight-current":"",props:e.defaultProps}}),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.tidVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.getCheckedNodes()}}},[e._v("确定")])],1)],1)],1)},r=[],n={render:o,staticRenderFns:r};t.a=n},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},nzkI:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".salary-update .empType[data-v-1a25e99a]{width:120px}.salary-update .empType .el-select__tags[data-v-1a25e99a]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}@media screen and (min-width:1200px){.right-btn[data-v-1a25e99a]{float:right}}.right-btn[data-v-1a25e99a],.salary-update .left-btn[data-v-1a25e99a]{margin-bottom:10px;margin-left:0!important}",""])},qkKv:function(e,t,a){var o=a("FeBl"),r=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}}});