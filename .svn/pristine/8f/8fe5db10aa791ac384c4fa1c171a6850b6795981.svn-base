webpackJsonp([53],{"+VmO":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,'.salary-project .add-btn{float:right;margin-left:10px}.salary-project .clear-float:after{content:" ";display:block;height:0;clear:both}',""])},L9pe:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"salary-project mg-30"},[a("div",{staticClass:"clear-float",staticStyle:{"margin-bottom":"10px"}},[a("el-button",{staticClass:"add-btn",attrs:{disabled:!e.radio},on:{click:function(t){return e.copyProject()}}},[e._v("\n      复制方案\n    ")]),e._v(" "),a("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:function(t){return e.addProject()}}},[e._v("\n      新增方案\n    ")])],1),e._v(" "),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.list,border:"","highlight-current-row":""},on:{"current-change":e.currentRowChange,"row-click":e.rowClick}},[a("el-table-column",{attrs:{align:"center",label:"方案名称",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.Code},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(e._s(t.row.Name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"NoticeRange",label:"计薪开始日"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(t.row.BeginMonthLabel+t.row.BeginDate+"日")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"NoticeRange",label:"计薪截止日"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{innerHTML:e._s(t.row.EndMonthLabel+t.row.EndDate+"日")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"NoticeRange",label:"发薪日期"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e._f("payDateContent")(t.row.PayDate)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editorProject(t.row)}}},[e._v("编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},domProps:{innerHTML:e._s(1!==t.row.Status?"启用":"停用")},on:{click:function(a){return e.startOrStop(t.row.Code,t.row.Status)}}})]}}])})],1),e._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{"current-page":e.listQuery.PageIndex,"page-sizes":[10,20,30,50],"page-size":e.listQuery.PageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.listQuery,"PageIndex",t)},"update:current-page":function(t){return e.$set(e.listQuery,"PageIndex",t)}}})],1),e._v(" "),a("el-dialog",{staticStyle:{"min-width":"800px"},attrs:{title:"提示",visible:e.copyDialogVisible,width:"50%",center:""},on:{"update:visible":function(t){e.copyDialogVisible=t}}},[a("el-form",{ref:"copyValidateForm",staticClass:"demo-ruleForm",attrs:{model:e.copyValidateForm,"label-width":"100px",rules:e.rules}},[a("el-form-item",{attrs:{label:"新的名称",prop:"name"}},[a("el-input",{attrs:{type:"text","auto-complete":"off"},model:{value:e.copyValidateForm.name,callback:function(t){e.$set(e.copyValidateForm,"name",t)},expression:"copyValidateForm.name"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.copyDialogVisible=!1}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("确定")])],1)],1),e._v(" "),a("router-view")],1)},r=[],n={render:o,staticRenderFns:r};t.a=n},LJtj:function(e,t,a){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRecyle"}})}function n(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermProject"}})}function d(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermAttribute"}})}function u(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTermType"}})}function i(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayRule"}})}function l(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayFrequency"}})}function c(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayMethod"}})}function s(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetPayLogic"}})}function m(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetJobLevel"}})}function h(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetOffWorkType"}})}function p(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpType"}})}function f(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetEmpStatus"}})}function g(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCurrency"}})}function S(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetTaxType"}})}function y(){return(0,Me.default)({url:"/Wage/Dic",method:"post",data:{Method:"GetCityList"}})}function W(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetList",PageSize:e,PageIndex:t}})}function C(e,t,a){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddOne",strJson1:e,strJson2:t,strJson3:a}})}function M(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CopyOne",SchemeCode:e,SchemeName:t}})}function T(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeSchemeStatus",Code:e,Status:t}})}function v(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeDetail",SchemeCode:e}})}function E(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueName",Name:e,Code:t}})}function L(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeOrgList",SchemeCode:e}})}function P(e,t){return(0,Me.default)({url:"/Wage/Scheme ",method:"post",data:{Method:"GetTermList",SchemeCode:e,TaxType:t}})}function b(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeTermStatus",Code:e,Status:t}})}function _(e,t,a){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"CheckUniqueTermName",Code:a,Name:e,SchemeCode:t}})}function R(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetRelStructList",SchemeCode:e}})}function w(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddTerm",strJson:e}})}function O(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetTerm",Code:e}})}function G(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateCheckPosition",SchemeCode:e,PositionCode:t}})}function D(e){return(0,Me.default)({url:"/Wage/WageReport",method:"post",data:(0,We.default)({Method:"GetEmpTermList"},e)})}function k(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetSchemeEmpList",SchemeCode:e,PageIndex:1,PageSize:9999}})}function x(e){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:(0,We.default)({Method:"AddOne"},e)})}function I(e){return(0,Me.default)({url:"/Wage/IO",method:"post",data:{Method:"BuildEmpTermTemplate",SchemeCode:e}})}function j(e,t){var a=new FormData;console.log(e);for(var o=0;o<e.length;o++)a.append(e[o].name,e[o]);return a.append("Method","UploadEmpTerm"),a.append("companyCode",ve.default.getters.companyCode),a.append("TokenId",(0,Ee.getToken)()),a.append("SchemeCode",t.SchemeCode),console.log(Date.parse(t.OnDate)),a.append("OnDate",t.OnDate.toISOString()),(0,Me.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:a})}function F(e){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:(0,We.default)({Method:"GetEmpTermChangeLogList"},e)})}function A(e){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:(0,We.default)({Method:"GetWageReportList"},e)})}function V(e){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:(0,We.default)({Method:"AddOne"},e)})}function N(e,t,a){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"Process",Code:e,OP:t,Remark:a}})}function Q(e){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:(0,We.default)({Method:"GetEmpWageReportList"},e)})}function z(e,t,a){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetFlowIdList",SchemeCode:e,OnYear:t,OnMonth:a}})}function U(e,t){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"RunEmpReport",ReportCode:e,EmpIds:t}})}function J(e,t,a){return(0,Me.default)({url:"/Wage/WageReport ",method:"post",data:{Method:"GetSingleEmpReport",EmpId:e,OnYear:t,SchemeCode:a}})}function $(e,t,a){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTermListByEmpId",EmpId:e,SchemeCode:t,type:a}})}function q(e){return(0,Me.default)({url:"/Wage/WageReport",method:"post",data:(0,We.default)({Method:"GetCommitWageReportList"},e)})}function B(e){return(0,Me.default)({url:"/Wage/WageReport",method:"post",data:(0,We.default)({Method:"ApprovalReport"},e)})}function K(e){return(0,Me.default)({url:"/Wage/WageReport",method:"post",data:{Method:"GetRemarkList",ReportCode:e}})}function Y(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetPayRollList",SchemeCode:e}})}function H(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdatePayRollSort",SchemeCode:e,strJson:t}})}function Z(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetNormalTermList",SchemeCode:e}})}function X(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOnceTermList",SchemeCode:e}})}function ee(e){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:(0,We.default)({Method:"AddTaxCity"},e)})}function te(e){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:(0,We.default)({Method:"UpdateTaxCity"},e)})}function ae(e){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"GetEmpTaxCityList",EmpId:e}})}function oe(e,t){return(0,Me.default)({url:"/Wage/EmpTerm",method:"post",data:{Method:"DeleteEmpTaxCity",CityId:e,EmpId:t}})}function re(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:(0,We.default)({Method:"GetEmpSchemeList"},e)})}function ne(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"EditEmpScheme",EmpId:e,SchemeCode:t}})}function de(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"AddEmpScheme",EmpId:e,SchemeCode:t}})}function ue(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"DeleteEmpScheme",Id:e}})}function ie(e){console.log(e);for(var t=new FormData,a=0;a<e.length;a++)t.append(e[a].name,e[a]);return t.append("Method","UploadEmpScheme"),t.append("companyCode",ve.default.getters.companyCode),t.append("TokenId",(0,Ee.getToken)()),(0,Me.default)({url:"/Wage/IO",method:"post",noQS:!0,headers:{"Content-Type":"multipart/form-data"},data:t})}function le(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"ChangeEmpSchemeStatus",Id:e,State:t}})}function ce(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetAmerce",SchemeCode:e,A_Type:t}})}function se(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveAmerce",SchemeCode:e,strJson:t}})}function me(e,t,a){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateAmerceStatus",SchemeCode:e,A_Type:t,Status:a}})}function he(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetWithdrawingForLeave",SchemeCode:e,A_Type:t}})}function pe(e,t,a){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"UpdateWithdrawingForLeaveStatus",SchemeCode:e,A_Type:t,Status:a}})}function fe(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveWithdrawingForLeave",SchemeCode:e,strJson:t}})}function ge(e){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"GetOverTime",SchemeCode:e}})}function Se(e,t){return(0,Me.default)({url:"/Wage/Scheme",method:"post",data:{Method:"SaveOverTime",SchemeCode:e,strJson:t}})}Object.defineProperty(t,"__esModule",{value:!0});var ye=a("Dd8w"),We=o(ye);t.getPayRecyle=r,t.getTermProject=n,t.getTermAttribute=d,t.getTermType=u,t.getPayRule=i,t.getPayFrequency=l,t.getPayMethod=c,t.getPayLogic=s,t.getJobLevel=m,t.getOffWorkType=h,t.getEmpType=p,t.getEmpStatus=f,t.getCurrency=g,t.getTaxType=S,t.getCityList=y,t.getSalaryList=W,t.addProject=C,t.copyOne=M,t.changeSchemeStatus=T,t.getSchemeDetail=v,t.checkUniqueName=E,t.getSchemeOrgList=L,t.getTermList=P,t.changeTermStatus=b,t.checkUniqueTermName=_,t.getRelStructList=R,t.addTerm=w,t.getTerm=O,t.updateCheckPosition=G,t.getEmpTermList=D,t.getSchemeEmpList=k,t.addOneEmpTerm=x,t.buildEmpTermTemplate=I,t.uploadEmpTerm=j,t.getEmpTermChangeLogList=F,t.getWageReportList=A,t.addOneReport=V,t.process=N,t.getEmpWageReportList=Q,t.getFlowIdList=z,t.runEmpReport=U,t.getSingleEmpReport=J,t.getEmpTermListByEmpId=$,t.getCommitWageReportList=q,t.approvalReport=B,t.getRemarkList=K,t.getPayRollList=Y,t.updatePayRollSort=H,t.getNormalTermList=Z,t.getOnceTermList=X,t.addTaxCity=ee,t.UpdateTaxCity=te,t.getEmpTaxCityList=ae,t.deleteEmpTaxCity=oe,t.getEmpSchemeList=re,t.editEmpScheme=ne,t.addEmpScheme=de,t.deleteEmpScheme=ue,t.uploadEmpScheme=ie,t.changeEmpSchemeStatus=le,t.getAmerce=ce,t.saveAmerce=se,t.updateAmerceStatus=me,t.getWithdrawingForLeave=he,t.updateWithdrawingForLeaveStatus=pe,t.saveWithdrawingForLeave=fe,t.getOverTime=ge,t.saveOverTime=Se;var Ce=a("Vo7i"),Me=o(Ce),Te=a("IcnI"),ve=o(Te),Ee=a("TIfe")},NPYn:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("LJtj"),r=a("T452"),n=a("zL8q");t.default={data:function(){return{list:[],listQuery:{PageIndex:1,PageSize:10,title:"",sort:0},total:0,currentRow:null,radio:null,copyDialogVisible:!1,copyValidateForm:{name:""},rules:{name:[{validator:function(e,t,a){if(!t)return a(new Error("名称不能为空！"));(0,o.checkUniqueName)(t).then(function(e){e.data.State===r.REQ_OK?e.data.Data?a():a(new Error("名称已存在！")):a(new Error("名称校验失败，请重试！"))}).catch(function(){a(new Error("请求超时，请重试！"))})},trigger:"blur"}]}}},computed:{},created:function(){this._getSalaryProject()},activated:function(){this._getSalaryProject()},methods:{addProject:function(){this.$router.push({path:"/salary/salaryRule/addProject"})},copyProject:function(){this.copyDialogVisible=!0},_getSalaryProject:function(){var e=this;this.$store.dispatch("setLoadingState",!0),(0,o.getSalaryList)(this.listQuery.limit,this.listQuery.page).then(function(t){t.data.State===r.REQ_OK?(e.list=t.data.Data,e.total=t.data.Total):n.Message.error("薪资方案列表获取失败，请重试！"),e.$store.dispatch("setLoadingState",!1)}).catch(function(){e.$store.dispatch("setLoadingState",!1),n.Message.error("薪资方案列表获取失败，请重试！")})},currentRowChange:function(e){this.currentRow=e},editorProject:function(e){this.$router.push({path:"/salary/salaryRule/editorProject",query:{code:e.Code}})},startOrStop:function(e,t){var a=this;(0,o.changeSchemeStatus)(e,1===t?0:1).then(function(e){e.data.State===r.REQ_OK?(n.Message.success("更改状态成功！"),a._getSalaryProject()):n.Message.error("更改状态失败，请重试！")}).catch(function(){n.Message.error("更改状态失败，请重试！")})},submitForm:function(){var e=this;this.$refs.copyValidateForm.validate(function(t){t&&(0,o.copyOne)(e.radio,e.copyValidateForm.name).then(function(t){t.data.State===r.REQ_OK?(e._getSalaryProject(),n.Message.success("复制方案成功！"),e.copyDialogVisible=!1):n.Message.error("复制方案失败，请重试！")}).catch(function(){n.Message.error("复制方案失败，请重试！")})})},rowClick:function(e){this.radio=e.Code},handleFilter:function(){this.listQuery.PageIndex=1,this._getSalaryProject()},handleSizeChange:function(e){this.listQuery.PageSize=e,this._getSalaryProject()},handleCurrentChange:function(e){this.listQuery.PageIndex=e,this._getSalaryProject()}}}},iIod:function(e,t,a){var o=a("+VmO");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);a("rjj0")("22bbb07e",o,!0,{})},m5Iu:function(e,t,a){"use strict";function o(e){a("iIod")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("NPYn"),n=a.n(r);for(var d in r)"default"!==d&&function(e){a.d(t,e,function(){return r[e]})}(d);var u=a("L9pe"),i=a("VU/8"),l=o,c=i(n.a,u.a,!1,l,null,null);t.default=c.exports}});